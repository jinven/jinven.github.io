<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.jpg">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.ico">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.ico">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">
  <!-- 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/pace-js@1/themes/blue/pace-theme-minimal.css">
    <script src="//cdn.jsdelivr.net/npm/pace-js@1/pace.min.js" async></script>
  -->
  <link rel="stylesheet" href="/css/third/pace-theme-minimal.css">
  <script src="/js/third/pace.min.js"></script>


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    hostname: new URL('https://jinven.github.io').hostname,
    root: '/',
    scheme: 'Gemini',
    version: '7.6.0',
    exturl: false,
    sidebar: {"position":"left","display":"post","padding":18,"offset":12,"onmobile":true},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":true,"scrollpercent":true},
    bookmark: {"enable":true,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: 'TTEP1D8FD8',
      apiKey: 'e4ce9422094b2c7623570a8ba17abd52',
      indexName: 'jwindex',
      hits: {"per_page":10},
      labels: {"input_placeholder":"输入关键字","hits_empty":"没有找到与 ${query} 相关的内容","hits_stats":"${hits} 条记录，耗时 ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}
  };
</script>

  <meta name="description" content="一个完整的 JavaScript 实现是由以下 3 个不同部分组成的：  核心（ECMAScript） 文档对象模型（DOM: Document Object Model） 浏览器对象模型（BOM: Browser Object Model）">
<meta property="og:type" content="article">
<meta property="og:title" content="javascript-小结">
<meta property="og:url" content="https://jinven.github.io/2019/12/01/javascript-%E5%B0%8F%E7%BB%93/index.html">
<meta property="og:site_name" content="Jinwen">
<meta property="og:description" content="一个完整的 JavaScript 实现是由以下 3 个不同部分组成的：  核心（ECMAScript） 文档对象模型（DOM: Document Object Model） 浏览器对象模型（BOM: Browser Object Model）">
<meta property="og:locale" content="zh_CN">
<meta property="article:published_time" content="2019-11-30T16:43:00.000Z">
<meta property="article:modified_time" content="2020-01-17T02:08:55.333Z">
<meta property="article:author" content="Jinwen">
<meta property="article:tag" content="javascript">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="https://jinven.github.io/2019/12/01/javascript-%E5%B0%8F%E7%BB%93/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>javascript-小结 | Jinwen</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Jinwen</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="切换导航栏">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>首页</a>

  </li>
        <li class="menu-item menu-item-about">

    <a href="/about/" rel="section"><i class="fa fa-fw fa-user"></i>关于</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>标签<span class="badge">20</span></a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>归档<span class="badge">51</span></a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-fw fa-sitemap"></i>站点地图</a>

  </li>
      <li class="menu-item menu-item-search">
        <a role="button" class="popup-trigger"><i class="fa fa-search fa-fw"></i>搜索
        </a>
      </li>
  </ul>

</nav>
  <div class="site-search">
    <div class="popup search-popup">
    <div class="search-header">
  <span class="search-icon">
    <i class="fa fa-search"></i>
  </span>
  <div class="search-input" id="search-input"></div>
  <span class="popup-btn-close">
    <i class="fa fa-times-circle"></i>
  </span>
</div>
<div class="algolia-results">
  <div id="algolia-stats"></div>
  <div id="algolia-hits"></div>
  <div id="algolia-pagination" class="algolia-pagination"></div>
</div>

  
</div>
<div class="search-pop-overlay"></div>

  </div>
</div>
    </header>

    
  <div class="reading-progress-bar"></div>
  <a role="button" class="book-mark-link book-mark-link-fixed"></a>

  <a href="https://github.com/jinven" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="https://jinven.github.io/2019/12/01/javascript-%E5%B0%8F%E7%BB%93/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jinwen">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Jinwen">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          javascript-小结
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">发表于</span>

              <time title="创建时间：2019-12-01 00:43:00" itemprop="dateCreated datePublished" datetime="2019-12-01T00:43:00+08:00">2019-12-01</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">更新于</span>
                <time title="修改时间：2020-01-17 10:08:55" itemprop="dateModified" datetime="2020-01-17T10:08:55+08:00">2020-01-17</time>
              </span>

          
            <span class="post-meta-item" title="阅读次数" id="busuanzi_container_page_pv" style="display: none;">
              <span class="post-meta-item-icon">
                <i class="fa fa-eye"></i>
              </span>
              <span class="post-meta-item-text">阅读次数：</span>
              <span id="busuanzi_value_page_pv"></span>
            </span>

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <p>一个完整的 JavaScript 实现是由以下 3 个不同部分组成的：</p>
<ul>
<li>核心（ECMAScript）</li>
<li>文档对象模型（DOM: Document Object Model）</li>
<li>浏览器对象模型（BOM: Browser Object Model）</li>
</ul>
<a id="more"></a>

<h2 id="ECMAScript"><a href="#ECMAScript" class="headerlink" title="ECMAScript"></a>ECMAScript</h2><p>并不与任何具体浏览器相绑定，没有用于任何用户输入输出的方法。</p>
<p>可以为不同种类的宿主环境提供核心的脚本编程能力，因此核心的脚本语言是与任何特定的宿主环境分开进行规定的。</p>
<p>Web 浏览器对于 ECMAScript 来说是一个宿主环境，但并不是唯一的宿主环境。</p>
<p>ECMAScript 描述了以下内容：语法、类型、语句、关键字、保留字、运算符、对象</p>
<p><strong>ECMAScript 仅仅是一个描述</strong>，定义了脚本语言的所有属性、方法和对象。</p>
<h2 id="DOM"><a href="#DOM" class="headerlink" title="DOM"></a>DOM</h2><p>是 HTML 和 XML 的应用程序接口（API）。</p>
<p>DOM 将把整个页面规划成由节点层级构成的文档。</p>
<p>HTML 或 XML 页面的每个部分都是一个节点的衍生物。</p>
<h2 id="BOM"><a href="#BOM" class="headerlink" title="BOM"></a>BOM</h2><p>独立于内容，可以对浏览器窗口进行访问和操作。</p>
<p>可以移动窗口、改变状态栏中的文本以及执行其他与页面内容不直接相关的动作。</p>
<p>它只是 JavaScript 的一个部分，没有任何相关的标准。</p>
<ul>
<li>弹出新的浏览器窗口</li>
<li>移动、关闭浏览器窗口以及调整窗口大小</li>
<li>提供 Web 浏览器详细信息的定位对象</li>
<li>提供用户屏幕分辨率详细信息的屏幕对象</li>
<li>对 cookie 的支持</li>
<li>IE 扩展了 BOM，加入了 ActiveXObject 类，可以通过 JavaScript 实例化 ActiveX 对象</li>
</ul>
<p>每种浏览器都有自己的 BOM 实现: Window 对象、Navigator 对象、Screen 对象、History 对象、Location 对象</p>
<h1 id="基本"><a href="#基本" class="headerlink" title="基本"></a>基本</h1><h2 id="声明-定义"><a href="#声明-定义" class="headerlink" title="声明/定义"></a>声明/定义</h2><ul>
<li><code>var</code>: 没有块作用域，变量会提升到顶端。</li>
<li><code>let</code>: 块作用域（Block Scope），在循环中使用的变量没有重新声明循环外的变量，循环内才可见。</li>
<li><code>const</code>: 常量，与 let 变量类似，但不能重新赋值。</li>
<li><code>class</code>: 特殊的函数，有两个组成部分：类表达式和类声明。</li>
<li><code>function</code>: 函数，被设计为执行特定任务的代码块。</li>
</ul>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="关键字"></a>关键字</h2><p>break、case、catch、continue、default、delete、do、else、finally、for、if、in、instanceof、new、return、switch、this、throw、try、typeof、void、while、with、debugger、exports、import、static、super、async、wait</p>
<h3 id="常用函数"><a href="#常用函数" class="headerlink" title="常用函数"></a>常用函数</h3><p>Symbol、Number、Object、Boolean、String、Function、ArrayBuffer、AudioBufferSourceNode、Blob、FileReader、Map、Promise、Range、RegExp、Set、TypeError、Uint8Array、Uint32Array、WeakMap、WeakSet、Worker</p>
<h2 id="类型"><a href="#类型" class="headerlink" title="类型"></a>类型</h2><h3 id="五种可包含值的数据类型"><a href="#五种可包含值的数据类型" class="headerlink" title="五种可包含值的数据类型"></a>五种可包含值的数据类型</h3><ul>
<li>字符串（string）</li>
<li>数字（number）</li>
<li>布尔（boolean）</li>
<li>对象（object）</li>
<li>函数（function）</li>
</ul>
<h3 id="三种对象类型"><a href="#三种对象类型" class="headerlink" title="三种对象类型"></a>三种对象类型</h3><ul>
<li>对象（Object）</li>
<li>日期（Date）</li>
<li>数组（Array）</li>
</ul>
<h3 id="两种不能包含值的数据类型："><a href="#两种不能包含值的数据类型：" class="headerlink" title="两种不能包含值的数据类型："></a>两种不能包含值的数据类型：</h3><ul>
<li>null</li>
<li>undefined</li>
</ul>
<h3 id="值"><a href="#值" class="headerlink" title="值"></a>值</h3><ul>
<li>原始值</li>
</ul>
<p>存储在栈（stack）中的简单数据段，也就是说，它们的值直接存储在变量访问的位置。</p>
<p>5 种原始类型：Undefined、Null、Boolean、Number 和 String</p>
<ul>
<li>引用值</li>
</ul>
<p>存储在堆（heap）中的对象，也就是说，存储在变量处的值是一个指针（point），指向存储对象的内存处。</p>
<h3 id="类型判断"><a href="#类型判断" class="headerlink" title="类型判断"></a>类型判断</h3><h4 id="typeof"><a href="#typeof" class="headerlink" title="typeof"></a>typeof</h4><p>返回下列值之一：</p>
<ul>
<li><code>undefined</code> 如果变量是 Undefined 类型的</li>
<li><code>boolean</code> 如果变量是 Boolean 类型的</li>
<li><code>number</code> 如果变量是 Number 类型的</li>
<li><code>string</code> 如果变量是 String 类型的</li>
<li><code>object</code> 如果变量是一种引用类型或 Null 类型的</li>
</ul>
<h4 id="instanceof"><a href="#instanceof" class="headerlink" title="instanceof"></a>instanceof</h4><p>在使用 typeof 运算符时采用引用类型存储值会出现一个问题，无论引用的是什么类型的对象，它都返回 “object”。ECMAScript 引入了另一个 Java 运算符 instanceof 来解决这个问题。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">'a'</span>)</span><br><span class="line"><span class="keyword">var</span> arr = []</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> a);              <span class="comment">//输出 "object"</span></span><br><span class="line"><span class="built_in">console</span>.log(a <span class="keyword">instanceof</span> <span class="built_in">String</span>);   <span class="comment">//输出 "true"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">typeof</span> arr);            <span class="comment">//输出 "object"</span></span><br><span class="line"><span class="built_in">console</span>.log(arr <span class="keyword">instanceof</span> <span class="built_in">Array</span>);  <span class="comment">//输出 "true"</span></span><br></pre></td></tr></table></figure>

<h4 id="Object-prototype-toString-call-apply"><a href="#Object-prototype-toString-call-apply" class="headerlink" title="Object.prototype.toString.call/apply"></a>Object.prototype.toString.call/apply</h4><p>输出对象的类</p>
<ul>
<li><code>Object.prototype.toString.call(&#39;&#39;)</code>: [object String]</li>
<li><code>Object.prototype.toString.call(1)</code>: [object Number]</li>
<li><code>Object.prototype.toString.call(null)</code>: [object Null]</li>
<li><code>Object.prototype.toString.call(undefined)</code>: [object Undefined]</li>
<li><code>Object.prototype.toString.call({})</code>: [object Object]</li>
<li><code>Object.prototype.toString.call(Symbol())</code>: [object Symbol]</li>
<li><code>Object.prototype.toString.call([])</code>: [object Array]</li>
<li><code>Object.prototype.toString.call(new Function())</code>: [object Function]</li>
<li><code>Object.prototype.toString.call(new Set())</code>: [object Set]</li>
<li><code>Object.prototype.toString.call(new Date())</code>: [object Date]</li>
</ul>
<h4 id="constructor-NaN"><a href="#constructor-NaN" class="headerlink" title="constructor"></a>constructor</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">"Bill"</span>.constructor                 <span class="comment">// 返回 "function String()  &#123; [native code] &#125;"</span></span><br><span class="line">(<span class="number">3.14</span>).constructor                 <span class="comment">// 返回 "function Number()  &#123; [native code] &#125;"</span></span><br><span class="line"><span class="literal">false</span>.constructor                  <span class="comment">// 返回 "function Boolean() &#123; [native code] &#125;"</span></span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>].constructor              <span class="comment">// 返回 "function Array()   &#123; [native code] &#125;"</span></span><br><span class="line">&#123;<span class="attr">name</span>:<span class="string">'Bill'</span>, <span class="attr">age</span>:<span class="number">62</span>&#125;.constructor  <span class="comment">// 返回" function Object()  &#123; [native code] &#125;"</span></span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Date</span>().constructor             <span class="comment">// 返回 "function Date()    &#123; [native code] &#125;"</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;&#125;.constructor         <span class="comment">// 返回 "function Function()&#123; [native code] &#125;"</span></span><br></pre></td></tr></table></figure>

<h2 id="引用类型"><a href="#引用类型" class="headerlink" title="引用类型"></a>引用类型</h2><p>引用类型通常叫做类（class），遇到引用值，所处理的就是对象。</p>
<p>对象是由 new 运算符加上要实例化的对象的名字创建的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不止一个参数时，要求使用括号。</span></span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line"><span class="comment">// 如果没有参数，如以下代码所示，括号可以省略：</span></span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line"><span class="keyword">var</span> d = <span class="keyword">new</span> <span class="built_in">Date</span>;</span><br></pre></td></tr></table></figure>

<h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><p>自身用处不大，ECMAScript 中的所有对象都由这个对象继承而来，Object 对象中的所有属性和方法都会出现在其他对象中。</p>
<ol>
<li>属性：</li>
</ol>
<ul>
<li><code>constructor</code> 对创建对象的函数的引用（指针）。对于 Object 对象，该指针指向原始的 Object() 函数。</li>
<li><code>Prototype</code> 对该对象的对象原型的引用。对于所有的对象，它默认返回 Object 对象的一个实例。</li>
</ul>
<ol start="2">
<li>方法：</li>
</ol>
<ul>
<li><code>hasOwnProperty(property)</code> 判断对象是否有某个特定的属性。必须用字符串指定该属性。（例如，o.hasOwnProperty(“name”)）</li>
<li><code>IsPrototypeOf(object)</code> 判断该对象是否为另一个对象的原型。</li>
<li><code>PropertyIsEnumerable</code> 判断给定的属性是否可以用 for…in 语句进行枚举。</li>
<li><code>ToString()</code> 返回对象的原始字符串表示。对于 Object 对象，ECMA-262 没有定义这个值，所以不同的 ECMAScript 实现具有不同的值。</li>
<li><code>ValueOf()</code> 返回最适合该对象的原始值。对于许多对象，该方法返回的值都与 ToString() 的返回值相同。</li>
</ul>
<h4 id="proto"><a href="#proto" class="headerlink" title="__proto__"></a><code>__proto__</code></h4><p>已经从 Web 标准中删除</p>
<h4 id="constructor"><a href="#constructor" class="headerlink" title="constructor"></a>constructor</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line">o.constructor === <span class="built_in">Object</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line">o.constructor === <span class="built_in">Object</span>;   <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">a.constructor === <span class="built_in">Array</span>;    <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> a = <span class="keyword">new</span> <span class="built_in">Array</span>;</span><br><span class="line">a.constructor === <span class="built_in">Array</span>     <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> n = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">3</span>);</span><br><span class="line">n.constructor === <span class="built_in">Number</span>;   <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="assign"><a href="#assign" class="headerlink" title="assign"></a>assign</h4><p>将所有可枚举属性的值从一个或多个源对象复制到目标对象。它将返回目标对象。</p>
<p>拷贝的是属性值。假如源对象的属性值是一个对象的引用，那么它也只指向那个引用。</p>
<p>拷贝 symbol 类型的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.assign(target, ...sources)</span></span><br><span class="line"><span class="keyword">const</span> target = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> source = &#123; <span class="attr">b</span>: <span class="number">4</span>, <span class="attr">c</span>: <span class="number">5</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> returnedTarget = <span class="built_in">Object</span>.assign(target, source);</span><br><span class="line"><span class="built_in">console</span>.log(target);</span><br><span class="line"><span class="comment">// expected output: Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(returnedTarget);</span><br><span class="line"><span class="comment">// expected output: Object &#123; a: 1, b: 4, c: 5 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> o1 = &#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">1</span>, <span class="attr">c</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> o2 = &#123; <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">2</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> o3 = &#123; <span class="attr">c</span>: <span class="number">3</span> &#125;;</span><br><span class="line"><span class="keyword">const</span> obj = <span class="built_in">Object</span>.assign(&#123;&#125;, o1, o2, o3);</span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// &#123; a: 1, b: 2, c: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 继承属性和不可枚举属性是不能拷贝的</span></span><br><span class="line"><span class="keyword">const</span> obj = <span class="built_in">Object</span>.create(&#123;<span class="attr">foo</span>: <span class="number">1</span>&#125;, &#123; <span class="comment">// foo 是个继承属性。</span></span><br><span class="line">    bar: &#123;</span><br><span class="line">        value: <span class="number">2</span>  <span class="comment">// bar 是个不可枚举属性。</span></span><br><span class="line">    &#125;,</span><br><span class="line">    baz: &#123;</span><br><span class="line">        value: <span class="number">3</span>,</span><br><span class="line">        enumerable: <span class="literal">true</span>  <span class="comment">// baz 是个自身可枚举属性。</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> copy = <span class="built_in">Object</span>.assign(&#123;&#125;, obj);</span><br><span class="line"><span class="built_in">console</span>.log(copy); <span class="comment">// &#123; baz: 3 &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 原始类型会被包装为对象</span></span><br><span class="line"><span class="keyword">const</span> v1 = <span class="string">"abc"</span>;</span><br><span class="line"><span class="keyword">const</span> v2 = <span class="literal">true</span>;</span><br><span class="line"><span class="keyword">const</span> v3 = <span class="number">10</span>;</span><br><span class="line"><span class="keyword">const</span> v4 = <span class="built_in">Symbol</span>(<span class="string">"foo"</span>)</span><br><span class="line"><span class="keyword">const</span> obj = <span class="built_in">Object</span>.assign(&#123;&#125;, v1, <span class="literal">null</span>, v2, <span class="literal">undefined</span>, v3, v4); </span><br><span class="line"><span class="comment">// null 和 undefined 会被忽略，只有字符串的包装对象才可能有自身可枚举属性。</span></span><br><span class="line"><span class="built_in">console</span>.log(obj); <span class="comment">// &#123; "0": "a", "1": "b", "2": "c" &#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 异常会打断后续拷贝任务</span></span><br><span class="line"><span class="keyword">const</span> target = <span class="built_in">Object</span>.defineProperty(&#123;&#125;, <span class="string">"foo"</span>, &#123;</span><br><span class="line">    value: <span class="number">1</span>,</span><br><span class="line">    writable: <span class="literal">false</span></span><br><span class="line">&#125;); <span class="comment">// target 的 foo 属性是个只读属性。</span></span><br><span class="line"><span class="built_in">Object</span>.assign(target, &#123;<span class="attr">bar</span>: <span class="number">2</span>&#125;, &#123;<span class="attr">foo2</span>: <span class="number">3</span>, <span class="attr">foo</span>: <span class="number">3</span>, <span class="attr">foo3</span>: <span class="number">3</span>&#125;, &#123;<span class="attr">baz</span>: <span class="number">4</span>&#125;);</span><br><span class="line"><span class="comment">// TypeError: "foo" is read-only</span></span><br><span class="line"><span class="comment">// 注意这个异常是在拷贝第二个源对象的第二个属性时发生的。</span></span><br><span class="line"><span class="built_in">console</span>.log(target.bar);  <span class="comment">// 2，说明第一个源对象拷贝成功了。</span></span><br><span class="line"><span class="built_in">console</span>.log(target.foo2); <span class="comment">// 3，说明第二个源对象的第一个属性也拷贝成功了。</span></span><br><span class="line"><span class="built_in">console</span>.log(target.foo);  <span class="comment">// 1，只读属性不能被覆盖，所以第二个源对象的第二个属性拷贝失败了。</span></span><br><span class="line"><span class="built_in">console</span>.log(target.foo3); <span class="comment">// undefined，异常之后 assign 方法就退出了，第三个属性是不会被拷贝到的。</span></span><br><span class="line"><span class="built_in">console</span>.log(target.baz);  <span class="comment">// undefined，第三个源对象更是不会被拷贝到的。</span></span><br></pre></td></tr></table></figure>

<p>Polyfill</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="built_in">Object</span>.assign != <span class="string">'function'</span>) &#123;</span><br><span class="line">  <span class="comment">// Must be writable: true, enumerable: false, configurable: true</span></span><br><span class="line">  <span class="built_in">Object</span>.defineProperty(<span class="built_in">Object</span>, <span class="string">"assign"</span>, &#123;</span><br><span class="line">    value: <span class="function"><span class="keyword">function</span> <span class="title">assign</span>(<span class="params">target, varArgs</span>) </span>&#123; <span class="comment">// .length of function is 2</span></span><br><span class="line"><span class="meta">      'use strict'</span>;</span><br><span class="line">      <span class="keyword">if</span> (target == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Cannot convert undefined or null to object'</span>);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">let</span> to = <span class="built_in">Object</span>(target);</span><br><span class="line">      <span class="keyword">for</span> (<span class="keyword">var</span> index = <span class="number">1</span>; index &lt; <span class="built_in">arguments</span>.length; index++) &#123;</span><br><span class="line">        <span class="keyword">var</span> nextSource = <span class="built_in">arguments</span>[index];</span><br><span class="line">        <span class="keyword">if</span> (nextSource != <span class="literal">null</span>) &#123;</span><br><span class="line">          <span class="keyword">for</span> (<span class="keyword">let</span> nextKey <span class="keyword">in</span> nextSource) &#123;</span><br><span class="line">            <span class="keyword">if</span> (<span class="built_in">Object</span>.prototype.hasOwnProperty.call(nextSource, nextKey)) &#123;</span><br><span class="line">              to[nextKey] = nextSource[nextKey];</span><br><span class="line">            &#125;</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">return</span> to;</span><br><span class="line">    &#125;,</span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="create"><a href="#create" class="headerlink" title="create"></a>create</h4><p>创建一个新对象，使用现有的对象来提供新创建的对象的<strong>proto</strong>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.create(proto[, propertiesObject])</span></span><br><span class="line"><span class="keyword">const</span> person = &#123;</span><br><span class="line">  isHuman: <span class="literal">false</span>,</span><br><span class="line">  printIntroduction: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">`My name is <span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>. Am I human? <span class="subst">$&#123;<span class="keyword">this</span>.isHuman&#125;</span>`</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">const</span> me = <span class="built_in">Object</span>.create(person);</span><br><span class="line">me.name = <span class="string">"Matthew"</span>;</span><br><span class="line">me.isHuman = <span class="literal">true</span>;</span><br><span class="line">me.printIntroduction(); <span class="comment">// "My name is Matthew. Am I human? true"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 创建一个原型为null的空对象</span></span><br><span class="line"><span class="built_in">Object</span>.create(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"><span class="comment">// 以字面量方式创建的空对象就相当于:</span></span><br><span class="line">o = <span class="built_in">Object</span>.create(<span class="built_in">Object</span>.prototype);</span><br><span class="line"></span><br><span class="line">o = <span class="built_in">Object</span>.create(<span class="built_in">Object</span>.prototype, &#123;</span><br><span class="line">  <span class="comment">// foo会成为所创建对象的数据属性</span></span><br><span class="line">  foo: &#123; </span><br><span class="line">    writable:<span class="literal">true</span>,</span><br><span class="line">    configurable:<span class="literal">true</span>,</span><br><span class="line">    value: <span class="string">"hello"</span> </span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">// bar会成为所创建对象的访问器属性</span></span><br><span class="line">  bar: &#123;</span><br><span class="line">    configurable: <span class="literal">false</span>,</span><br><span class="line">    <span class="keyword">get</span>: function() &#123; <span class="keyword">return</span> <span class="number">10</span> &#125;,</span><br><span class="line">    <span class="keyword">set</span>: function(value) &#123;</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="string">"Setting `o.bar` to"</span>, value);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Constructor</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">o = <span class="keyword">new</span> Constructor();</span><br><span class="line"><span class="comment">// 上面的一句就相当于:</span></span><br><span class="line">o = <span class="built_in">Object</span>.create(Constructor.prototype);</span><br><span class="line"><span class="comment">// 当然,如果在Constructor函数中有一些初始化代码,Object.create不能执行那些代码</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//创建一个可写的,可枚举的,可配置的属性p</span></span><br><span class="line">o = <span class="built_in">Object</span>.create(&#123;&#125;, &#123;</span><br><span class="line">  p: &#123;</span><br><span class="line">    value: <span class="number">42</span>, </span><br><span class="line">    writable: <span class="literal">true</span>,</span><br><span class="line">    enumerable: <span class="literal">true</span>,</span><br><span class="line">    configurable: <span class="literal">true</span> </span><br><span class="line">  &#125; </span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<ul>
<li><code>propertiesObject</code></li>
</ul>
<p>可选。如果没有指定为 undefined，则是要添加到新创建对象的不可枚举（默认）属性对象的属性描述符以及相应的属性名称。</p>
<h4 id="defineProperty"><a href="#defineProperty" class="headerlink" title="defineProperty"></a>defineProperty</h4><p>在一个对象上定义一个新属性，或者修改一个对象的现有属性， 并返回这个对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.defineProperty(obj, prop, descriptor)</span></span><br><span class="line"><span class="comment">// prop 要定义或修改的属性的名称。</span></span><br><span class="line"><span class="comment">// descriptor 将被定义或修改的属性描述符。</span></span><br><span class="line"><span class="comment">//    configurable 为 true 时，该属性描述符才能够被改变，也能从对应的对象上被删除。默认为 false。</span></span><br><span class="line"><span class="comment">//    enumerable 当且仅当该属性的enumerable为true时，才能够出现在对象的枚举属性中。默认为 false。</span></span><br><span class="line"><span class="comment">//    value 该属性对应的值。任何有效的 JavaScript 值（数值，对象，函数等）。默认为 undefined。</span></span><br><span class="line"><span class="comment">//    writable 仅当该属性的writable为true时，value才能被赋值运算符改变。默认为 false。</span></span><br><span class="line"><span class="comment">//    get 给属性提供 getter 的方法，如果没有 getter 则为 undefined。</span></span><br><span class="line"><span class="comment">//    set 给属性提供 setter 的方法，如果没有 setter 则为 undefined。</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'name'</span>, &#123; <span class="attr">value</span>: <span class="string">'n'</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 使用 __proto__</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.create(<span class="literal">null</span>); <span class="comment">// 没有继承的属性</span></span><br><span class="line"><span class="comment">// 默认没有 enumerable，没有 configurable，没有 writable</span></span><br><span class="line">descriptor.value = <span class="string">'static'</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'key'</span>, descriptor);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 显式</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">"key"</span>, &#123;</span><br><span class="line">  enumerable: <span class="literal">false</span>,</span><br><span class="line">  configurable: <span class="literal">false</span>,</span><br><span class="line">  writable: <span class="literal">false</span>,</span><br><span class="line">  value: <span class="string">"static"</span></span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">"a"</span>, &#123; <span class="attr">value</span> : <span class="number">1</span>, <span class="attr">enumerable</span>:<span class="literal">true</span> &#125;);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">"b"</span>, &#123; <span class="attr">value</span> : <span class="number">2</span>, <span class="attr">enumerable</span>:<span class="literal">false</span> &#125;);</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(o, <span class="string">"c"</span>, &#123; <span class="attr">value</span> : <span class="number">3</span> &#125;); <span class="comment">// enumerable defaults to false</span></span><br><span class="line">o.d = <span class="number">4</span>; <span class="comment">// 如果使用直接赋值的方式创建对象的属性，则这个属性的enumerable为true</span></span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i <span class="keyword">in</span> o) &#123;    </span><br><span class="line">  <span class="built_in">console</span>.log(i);             <span class="comment">// 'a', 'd'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Object</span>.keys(o);               <span class="comment">// ["a", "d"]</span></span><br><span class="line">o.propertyIsEnumerable(<span class="string">'a'</span>);  <span class="comment">// true</span></span><br><span class="line">o.propertyIsEnumerable(<span class="string">'b'</span>);  <span class="comment">// false</span></span><br><span class="line">o.propertyIsEnumerable(<span class="string">'c'</span>);  <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="defineProperties"><a href="#defineProperties" class="headerlink" title="defineProperties"></a>defineProperties</h4><p>直接在一个对象上定义新的属性或修改现有属性，并返回该对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.defineProperties(obj, props)</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.defineProperties(obj, &#123;</span><br><span class="line">  <span class="string">'property1'</span>: &#123;</span><br><span class="line">    value: <span class="literal">true</span>,</span><br><span class="line">    writable: <span class="literal">true</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="string">'property2'</span>: &#123;</span><br><span class="line">    value: <span class="string">'Hello'</span>,</span><br><span class="line">    writable: <span class="literal">false</span></span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">// etc. etc.</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="entries"><a href="#entries" class="headerlink" title="entries"></a>entries</h4><p>返回一个给定对象自身可枚举属性的键值对数组，其排列与使用 for…in 循环遍历该对象时返回的顺序一致（区别在于 for-in 循环还会枚举原型链中的属性）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(obj));     <span class="comment">// [ ['foo', 'bar'], ['baz', 42] ]</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="number">0</span>: <span class="string">'a'</span>, <span class="number">1</span>: <span class="string">'b'</span>, <span class="number">2</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(obj));     <span class="comment">// [ ['0', 'a'], ['1', 'b'], ['2', 'c'] ]</span></span><br><span class="line"><span class="keyword">let</span> anObj = &#123; <span class="number">100</span>: <span class="string">'a'</span>, <span class="number">2</span>: <span class="string">'b'</span>, <span class="number">7</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(anObj));   <span class="comment">// [ ['2', 'b'], ['7', 'c'], ['100', 'a'] ]</span></span><br><span class="line"><span class="keyword">let</span> myObj = <span class="built_in">Object</span>.create(&#123;&#125;, &#123; <span class="attr">getFoo</span>: &#123; value() &#123; <span class="keyword">return</span> <span class="keyword">this</span>.foo; &#125; &#125; &#125;);</span><br><span class="line">myObj.foo = <span class="string">'bar'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(myObj));   <span class="comment">// [ ['foo', 'bar'] ]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.entries(<span class="string">'foo'</span>));   <span class="comment">// [ ['0', 'f'], ['1', 'o'], ['2', 'o'] ]</span></span><br><span class="line"><span class="keyword">let</span> obj = &#123; <span class="attr">a</span>: <span class="number">5</span>, <span class="attr">b</span>: <span class="number">7</span>, <span class="attr">c</span>: <span class="number">9</span> &#125;;</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> [key, value] <span class="keyword">of</span> <span class="built_in">Object</span>.entries(obj)) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`<span class="subst">$&#123;key&#125;</span> <span class="subst">$&#123;value&#125;</span>`</span>);     <span class="comment">// "a 5", "b 7", "c 9"</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>(<span class="built_in">Object</span>.entries(&#123; <span class="attr">foo</span>: <span class="string">"bar"</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;));</span><br><span class="line"><span class="built_in">console</span>.log(map);                     <span class="comment">// Map &#123; foo: "bar", baz: 42 &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="freeze、isFrozen"><a href="#freeze、isFrozen" class="headerlink" title="freeze、isFrozen"></a>freeze、isFrozen</h4><p>冻结一个对象。一个被冻结的对象再也不能被修改；冻结了一个对象则不能向这个对象添加新的属性，不能删除已有属性，不能修改该对象已有属性的可枚举性、可配置性、可写性，以及不能修改已有属性的值。此外，冻结一个对象后该对象的原型也不能被修改。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> obj = &#123; <span class="attr">prop</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="built_in">Object</span>.freeze(obj);</span><br><span class="line">obj.prop = <span class="number">33</span>;                      <span class="comment">// Throws an error in strict mode</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.prop);              <span class="comment">// expected output: 42</span></span><br><span class="line"><span class="keyword">delete</span> obj.prop;                    <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(obj.prop);              <span class="comment">// expected output: 42</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.isFrozen(obj));  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'ohai'</span>, &#123; <span class="attr">value</span>: <span class="number">17</span> &#125;);  <span class="comment">// 抛出 TypeError</span></span><br><span class="line"><span class="built_in">Object</span>.setPrototypeOf(obj, &#123; <span class="attr">x</span>: <span class="number">20</span> &#125;);              <span class="comment">// 抛出 TypeError</span></span><br></pre></td></tr></table></figure>

<h4 id="fromEntries"><a href="#fromEntries" class="headerlink" title="fromEntries"></a>fromEntries</h4><p>把键值对列表转换为一个对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> entries = <span class="keyword">new</span> <span class="built_in">Map</span>([</span><br><span class="line">  [<span class="string">'foo'</span>, <span class="string">'bar'</span>],</span><br><span class="line">  [<span class="string">'baz'</span>, <span class="number">42</span>]</span><br><span class="line">]);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.fromEntries(entries)); <span class="comment">// Object &#123; foo: "bar", baz: 42 &#125;</span></span><br><span class="line"><span class="keyword">const</span> arr = [ [<span class="string">'0'</span>, <span class="string">'a'</span>], [<span class="string">'1'</span>, <span class="string">'b'</span>], [<span class="string">'2'</span>, <span class="string">'c'</span>] ];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.fromEntries(arr));     <span class="comment">// &#123; 0: "a", 1: "b", 2: "c" &#125;</span></span><br><span class="line"><span class="keyword">const</span> object = <span class="built_in">Object</span>.fromEntries(<span class="built_in">Object</span>.entries(&#123; <span class="attr">a</span>: <span class="number">1</span>, <span class="attr">b</span>: <span class="number">2</span>, <span class="attr">c</span>: <span class="number">3</span> &#125;)</span><br><span class="line">  .map(<span class="function">(<span class="params">[ key, val ]</span>) =&gt;</span> [ key, val * <span class="number">2</span> ]));</span><br><span class="line"><span class="built_in">console</span>.log(object);                      <span class="comment">// &#123; a: 2, b: 4, c: 6 &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="getOwnPropertyDescriptor"><a href="#getOwnPropertyDescriptor" class="headerlink" title="getOwnPropertyDescriptor"></a>getOwnPropertyDescriptor</h4><p>返回指定对象上一个自有属性对应的属性描述符。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.getOwnPropertyDescriptor(obj, prop)</span></span><br><span class="line"><span class="keyword">let</span> o = &#123; <span class="keyword">get</span> foo() &#123; <span class="keyword">return</span> <span class="number">17</span>; &#125; &#125;;</span><br><span class="line"><span class="keyword">let</span> d = <span class="built_in">Object</span>.getOwnPropertyDescriptor(o, <span class="string">"foo"</span>);</span><br><span class="line"><span class="comment">// d &#123;</span></span><br><span class="line"><span class="comment">//   configurable: true,</span></span><br><span class="line"><span class="comment">//   enumerable: true,</span></span><br><span class="line"><span class="comment">//   get: /*the getter function*/,</span></span><br><span class="line"><span class="comment">//   set: undefined</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br></pre></td></tr></table></figure>

<h4 id="getOwnPropertyDescriptors"><a href="#getOwnPropertyDescriptors" class="headerlink" title="getOwnPropertyDescriptors"></a>getOwnPropertyDescriptors</h4><p>获取一个对象的所有自身属性的描述符。</p>
<h4 id="getOwnPropertyNames"><a href="#getOwnPropertyNames" class="headerlink" title="getOwnPropertyNames"></a>getOwnPropertyNames</h4><p>返回一个由指定对象的所有自身属性的属性名（包括不可枚举属性但不包括Symbol值作为名称的属性）组成的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">"a"</span>, <span class="string">"b"</span>, <span class="string">"c"</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(arr).sort()); <span class="comment">// ["0", "1", "2", "length"]</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="string">"a"</span>, <span class="number">1</span>: <span class="string">"b"</span>, <span class="number">2</span>: <span class="string">"c"</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getOwnPropertyNames(obj).sort()); <span class="comment">// ["0", "1", "2"]</span></span><br></pre></td></tr></table></figure>

<h4 id="getOwnPropertySymbols"><a href="#getOwnPropertySymbols" class="headerlink" title="getOwnPropertySymbols"></a>getOwnPropertySymbols</h4><p>返回一个给定对象自身的所有 Symbol 属性的数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> symbol = <span class="built_in">Symbol</span>();</span><br><span class="line">obj[symbol] = <span class="number">123</span>;</span><br><span class="line"><span class="built_in">Object</span>.getOwnPropertySymbols(obj);</span><br></pre></td></tr></table></figure>

<h4 id="getPrototypeOf"><a href="#getPrototypeOf" class="headerlink" title="getPrototypeOf"></a>getPrototypeOf</h4><p>返回指定对象的原型（内部<code>[[Prototype]]</code>属性的值）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> prototype1 = &#123;&#125;;</span><br><span class="line"><span class="keyword">const</span> object1 = <span class="built_in">Object</span>.create(prototype1);</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.getPrototypeOf(object1) === prototype1); <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="regexp">/a/</span>;</span><br><span class="line"><span class="built_in">Object</span>.getPrototypeOf(reg) === <span class="built_in">RegExp</span>.prototype;            <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="is"><a href="#is" class="headerlink" title="is"></a>is</h4><p>判断两个值是否是相同的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.is(value1, value2);</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="string">'foo'</span>, <span class="string">'foo'</span>);     <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="built_in">window</span>, <span class="built_in">window</span>);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="string">'foo'</span>, <span class="string">'bar'</span>);     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is([], []);           <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> foo = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="keyword">var</span> bar = &#123; <span class="attr">a</span>: <span class="number">1</span> &#125;;</span><br><span class="line"><span class="built_in">Object</span>.is(foo, foo);         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(foo, bar);         <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="literal">null</span>, <span class="literal">null</span>);       <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 特例</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="number">0</span>, <span class="number">-0</span>);            <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="number">0</span>, +<span class="number">0</span>);            <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="number">-0</span>, <span class="number">-0</span>);           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.is(<span class="literal">NaN</span>, <span class="number">0</span>/<span class="number">0</span>);         <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="isExtensible、preventExtensions"><a href="#isExtensible、preventExtensions" class="headerlink" title="isExtensible、preventExtensions"></a>isExtensible、preventExtensions</h4><ul>
<li><code>isExtensible</code>: 判断一个对象是否是可扩展的（是否可以在它上面添加新的属性）。</li>
<li><code>preventExtensions</code>: 让一个对象变的不可扩展。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Object.isExtensible(obj)</span></span><br><span class="line"><span class="comment">// 新对象默认是可扩展的.</span></span><br><span class="line"><span class="keyword">var</span> empty = &#123;&#125;;</span><br><span class="line"><span class="built_in">Object</span>.isExtensible(empty);     <span class="comment">// === true</span></span><br><span class="line"><span class="comment">// ...可以变的不可扩展.</span></span><br><span class="line"><span class="built_in">Object</span>.preventExtensions(empty);</span><br><span class="line"><span class="built_in">Object</span>.isExtensible(empty);     <span class="comment">// === false</span></span><br><span class="line"><span class="comment">// 密封对象是不可扩展的.</span></span><br><span class="line"><span class="keyword">var</span> sealed = <span class="built_in">Object</span>.seal(&#123;&#125;);</span><br><span class="line"><span class="built_in">Object</span>.isExtensible(sealed);    <span class="comment">// === false</span></span><br><span class="line"><span class="comment">// 冻结对象也是不可扩展.</span></span><br><span class="line"><span class="keyword">var</span> frozen = <span class="built_in">Object</span>.freeze(&#123;&#125;);</span><br><span class="line"><span class="built_in">Object</span>.isExtensible(frozen);    <span class="comment">// === false</span></span><br></pre></td></tr></table></figure>

<h4 id="isSealed、seal"><a href="#isSealed、seal" class="headerlink" title="isSealed、seal"></a>isSealed、seal</h4><ul>
<li><code>seal</code>: 封闭一个对象，阻止添加新属性并将所有现有属性标记为不可配置。当前属性的值只要原来是可写的就可以改变。</li>
<li><code>isSealed</code>: 判断一个对象是否被密封。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  prop: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;,</span><br><span class="line">  foo: <span class="string">'bar'</span></span><br><span class="line">&#125;;</span><br><span class="line">obj.foo = <span class="string">'baz'</span>;</span><br><span class="line">obj.lumpy = <span class="string">'woof'</span>;</span><br><span class="line"><span class="keyword">delete</span> obj.prop;</span><br><span class="line"><span class="keyword">var</span> o = <span class="built_in">Object</span>.seal(obj);</span><br><span class="line">o === obj;                  <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Object</span>.isSealed(obj);       <span class="comment">// true</span></span><br><span class="line">obj.foo = <span class="string">'quux'</span>;</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'foo'</span>, &#123;</span><br><span class="line">  <span class="keyword">get</span>: function() &#123; <span class="keyword">return</span> <span class="string">'g'</span>; &#125;</span><br><span class="line">&#125;); <span class="comment">// throws a TypeError</span></span><br><span class="line">obj.quaxxor = <span class="string">'the friendly duck'</span>;</span><br><span class="line"><span class="keyword">delete</span> obj.foo;</span><br><span class="line"><span class="comment">// will throw TypeErrors.</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fail</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"><span class="meta">  'use strict'</span>;</span><br><span class="line">  <span class="keyword">delete</span> obj.foo; <span class="comment">// throws a TypeError</span></span><br><span class="line">  obj.sparky = <span class="string">'arf'</span>; <span class="comment">// throws a TypeError</span></span><br><span class="line">&#125;</span><br><span class="line">fail();</span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'ohai'</span>, &#123;</span><br><span class="line">  value: <span class="number">17</span></span><br><span class="line">&#125;); <span class="comment">// throws a TypeError</span></span><br><span class="line"><span class="built_in">Object</span>.defineProperty(obj, <span class="string">'foo'</span>, &#123;</span><br><span class="line">  value: <span class="string">'eit'</span></span><br><span class="line">&#125;); <span class="comment">// changes existing property value</span></span><br></pre></td></tr></table></figure>


<h4 id="keys"><a href="#keys" class="headerlink" title="keys"></a>keys</h4><p>会返回一个由一个给定对象的自身可枚举属性组成的数组，数组中属性名的排列顺序和使用 for…in 循环遍历该对象时返回的顺序一致。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(arr));    <span class="comment">// console: ['0', '1', '2']</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="string">'a'</span>, <span class="number">1</span>: <span class="string">'b'</span>, <span class="number">2</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(obj));    <span class="comment">// console: ['0', '1', '2']</span></span><br><span class="line"><span class="keyword">var</span> anObj = &#123; <span class="number">100</span>: <span class="string">'a'</span>, <span class="number">2</span>: <span class="string">'b'</span>, <span class="number">7</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(anObj));  <span class="comment">// console: ['2', '7', '100']</span></span><br><span class="line"><span class="keyword">var</span> myObj = <span class="built_in">Object</span>.create(&#123;&#125;, &#123;</span><br><span class="line">  getFoo: &#123;</span><br><span class="line">    value: <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>.foo; &#125;</span><br><span class="line">  &#125; </span><br><span class="line">&#125;);</span><br><span class="line">myObj.foo = <span class="number">1</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.keys(myObj));  <span class="comment">// console: ['foo']</span></span><br></pre></td></tr></table></figure>

<h3 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h3><p><a href="https://bugs.webkit.org/show_bug.cgi?id=80797" target="_blank" rel="noopener">参数个数限制在65536</a></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> sum = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'return a + b'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(sum(<span class="number">2</span>, <span class="number">6</span>));   <span class="comment">// 8</span></span><br></pre></td></tr></table></figure>

<h4 id="arguments"><a href="#arguments" class="headerlink" title="arguments"></a>arguments</h4><p>已经从 Web 标准中删除。</p>
<p>无需明确指出参数名，就能访问它们。</p>
<p><code>arguments.length</code>: 参数个数。<br><code>arguments.callee</code>: 当前正在执行的函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每个 arg 都是一个参数，最后一个参数是函数主体（要执行的代码）。</span></span><br><span class="line"><span class="comment">// 这些参数必须是字符串。</span></span><br><span class="line"><span class="comment">// ECMAScript 可以接受任意多个参数（最多 25 个）</span></span><br><span class="line"><span class="keyword">var</span> function_name = <span class="keyword">new</span> <span class="function"><span class="keyword">function</span>(<span class="params">arg1, arg2, ..., argN, function_body</span>)</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sayHi = <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"sName"</span>, <span class="string">"sMessage"</span>, <span class="string">"alert(\"Hello \" + sName + sMessage);"</span>);</span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">sayHi</span>(<span class="params">sName, sMessage</span>) </span>&#123;</span><br><span class="line">  alert(<span class="string">"Hello "</span> + sName + sMessage);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 属性 length 声明了函数期望的参数个数。</span></span><br><span class="line"><span class="built_in">console</span>.log(sayHi.length);        <span class="comment">//输出 "2"</span></span><br><span class="line"><span class="comment">//  valueOf() 方法和 toString() 方法: 返回的都是函数的源代码，在调试时尤其有用。</span></span><br><span class="line"><span class="built_in">console</span>.log(sayHi.toString());    <span class="comment">//输出 "2"</span></span><br></pre></td></tr></table></figure>

<p>注意：尽管可以使用 Function 构造函数创建函数，但最好不要使用它，因为用它定义函数比用传统方式要慢得多。</p>
<p>不过，所有函数都应看作 Function 类的实例。</p>
<h4 id="length"><a href="#length" class="headerlink" title="length"></a>length</h4><p>指明函数的形参个数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func1</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func2</span>(<span class="params">a, b</span>) </span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log(func1.length); <span class="comment">// 0</span></span><br><span class="line"><span class="built_in">console</span>.log(func2.length); <span class="comment">// 2</span></span><br></pre></td></tr></table></figure>

<h4 id="name"><a href="#name" class="headerlink" title="name"></a>name</h4><p>函数实例的名称。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">(<span class="keyword">new</span> <span class="built_in">Function</span>).name;                  <span class="comment">// "anonymous"</span></span><br><span class="line"><span class="keyword">var</span> f = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> object = &#123;</span><br><span class="line">  someMethod: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="built_in">console</span>.log(f.name);                  <span class="comment">// "f"</span></span><br><span class="line"><span class="built_in">console</span>.log(object.someMethod.name);  <span class="comment">// "someMethod"</span></span><br></pre></td></tr></table></figure>

<h4 id="prototype"><a href="#prototype" class="headerlink" title="prototype"></a>prototype</h4><p>属性存储了 Function 的原型对象。</p>
<h4 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h4><p>返回一个表示当前函数源代码的字符串。</p>
<h4 id="AOP"><a href="#AOP" class="headerlink" title="AOP"></a>AOP</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> foo = <span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  value[<span class="number">0</span>]=<span class="number">2</span>;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`call:<span class="subst">$&#123;value&#125;</span>`</span>); </span><br><span class="line">  value[<span class="number">0</span>]=<span class="number">3</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Function</span>.prototype.before = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    fn.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">return</span> _this.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Function</span>.prototype.after = <span class="function"><span class="keyword">function</span>(<span class="params">fn</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> _this = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">    <span class="keyword">var</span> r = _this.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);</span><br><span class="line">    fn.apply(<span class="keyword">this</span>,<span class="built_in">arguments</span>);</span><br><span class="line">    <span class="keyword">return</span> r;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">foo.before(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`before:<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">&#125;).after(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`after:<span class="subst">$&#123;value&#125;</span>`</span>);</span><br><span class="line">&#125;)([<span class="number">1</span>]);</span><br><span class="line"><span class="comment">// before:1</span></span><br><span class="line"><span class="comment">// call:2</span></span><br><span class="line"><span class="comment">// after:3</span></span><br></pre></td></tr></table></figure>

<h4 id="call-apply"><a href="#call-apply" class="headerlink" title="call/apply"></a>call/apply</h4><ol>
<li>每个函数都包含两个非继承而来的方法：apply()和call()。</li>
<li>都是在特定的作用域中调用函数。</li>
</ol>
<ul>
<li><code>call</code>: 第一个参数用作 this 的对象。其他参数都直接传递给函数自身。</li>
<li><code>apply</code>: 有两个参数，用作 this 的对象和要传递给函数的参数的数组。</li>
</ul>
<p>call、apply、bind的作用是改变函数运行时this的指向</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">age, position</span>)</span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;<span class="keyword">this</span>.name&#125;</span>: <span class="subst">$&#123;age&#125;</span>, <span class="subst">$&#123;position&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> obj=&#123;</span><br><span class="line">  name: <span class="string">'a'</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(foo.call(obj, <span class="number">20</span>, <span class="string">'web'</span>))     <span class="comment">//a: 20, web</span></span><br><span class="line"><span class="built_in">console</span>.log(foo.apply(obj, [<span class="number">20</span>, <span class="string">'web'</span>]))  <span class="comment">//a: 20, web</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line">obj.foo=foo;</span><br><span class="line"><span class="built_in">console</span>.log(obj.foo(<span class="number">20</span>, <span class="string">'web'</span>))           <span class="comment">//a: 20, web</span></span><br></pre></td></tr></table></figure>

<h4 id="bind"><a href="#bind" class="headerlink" title="bind"></a>bind</h4><p>bind() 方法创建一个新的函数，在 bind() 被调用时，这个新函数的 this 被指定为 bind() 的第一个参数，而其余参数将作为新函数的参数，供调用时使用。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="built_in">module</span> = &#123;</span><br><span class="line">  x: <span class="number">42</span>,</span><br><span class="line">  getX: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.x;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">const</span> unboundGetX = <span class="built_in">module</span>.getX;</span><br><span class="line"><span class="built_in">console</span>.log(unboundGetX()); <span class="comment">// The function gets invoked at the global scope</span></span><br><span class="line"><span class="comment">// expected output: undefined</span></span><br><span class="line"><span class="keyword">const</span> boundGetX = unboundGetX.bind(<span class="built_in">module</span>);</span><br><span class="line"><span class="built_in">console</span>.log(boundGetX());</span><br><span class="line"><span class="comment">// expected output: 42</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// thisArg: 调用绑定函数时作为 this 参数传递给目标函数的值。 </span></span><br><span class="line"><span class="comment">//          如果使用new运算符构造绑定函数，则忽略该值。</span></span><br><span class="line"><span class="comment">//          当使用 bind 在 setTimeout 中创建一个函数（作为回调提供）时，作为 thisArg 传递的任何原始值都将转换为 object。</span></span><br><span class="line"><span class="comment">//          如果 bind 函数的参数列表为空，执行作用域的 this 将被视为新函数的 thisArg。</span></span><br><span class="line"><span class="comment">// arg1, arg2, ...: 当目标函数被调用时，被预置入绑定函数的参数列表中的参数。</span></span><br><span class="line"><span class="comment">// return: 返回一个原函数的拷贝，并拥有指定的 this 值和初始参数。</span></span><br><span class="line"><span class="function"><span class="keyword">function</span>.<span class="title">bind</span>(<span class="params">thisArg[, arg1[, arg2[, ...]]]</span>)</span></span><br></pre></td></tr></table></figure>

<p>使一个函数拥有预设的初始参数。只要将这些参数（如果有的话）作为 bind() 的参数写在 this 后面。</p>
<p>当绑定函数被调用时，这些参数会被插入到目标函数的参数列表的开始位置，传递给绑定函数的参数会跟在它们后面。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">list</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">addArguments</span>(<span class="params">arg1, arg2</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> arg1 + arg2</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> list1 = list(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);            <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="keyword">var</span> result1 = addArguments(<span class="number">1</span>, <span class="number">2</span>);     <span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 创建一个函数，它拥有预设参数列表。</span></span><br><span class="line"><span class="keyword">var</span> leadingThirtysevenList = list.bind(<span class="literal">null</span>, <span class="number">37</span>);</span><br><span class="line"><span class="comment">// 创建一个函数，它拥有预设的第一个参数</span></span><br><span class="line"><span class="keyword">var</span> addThirtySeven = addArguments.bind(<span class="literal">null</span>, <span class="number">37</span>); </span><br><span class="line"><span class="keyword">var</span> list2 = leadingThirtysevenList();         <span class="comment">// [37]</span></span><br><span class="line"><span class="keyword">var</span> list3 = leadingThirtysevenList(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);  <span class="comment">// [37, 1, 2, 3]</span></span><br><span class="line"><span class="keyword">var</span> result2 = addThirtySeven(<span class="number">5</span>);              <span class="comment">// 37 + 5 = 42 </span></span><br><span class="line"><span class="keyword">var</span> result3 = addThirtySeven(<span class="number">5</span>, <span class="number">10</span>);          <span class="comment">// 37 + 5 = 42 ，第二个参数被忽略</span></span><br></pre></td></tr></table></figure>

<p>setTimeout</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">LateBloomer</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.petalCount = <span class="built_in">Math</span>.ceil(<span class="built_in">Math</span>.random() * <span class="number">12</span>) + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 在 1 秒钟后声明 bloom</span></span><br><span class="line">LateBloomer.prototype.bloom = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">window</span>.setTimeout(<span class="keyword">this</span>.declare.bind(<span class="keyword">this</span>), <span class="number">1000</span>);</span><br><span class="line">&#125;;</span><br><span class="line">LateBloomer.prototype.declare = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'I am a beautiful flower with '</span> + <span class="keyword">this</span>.petalCount + <span class="string">' petals!'</span>);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> flower = <span class="keyword">new</span> LateBloomer();</span><br><span class="line">flower.bloom();  <span class="comment">// 一秒钟后, 调用 'declare' 方法</span></span><br></pre></td></tr></table></figure>

<p>Polyfill</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Does not work with `new funcA.bind(thisArg, args)`</span></span><br><span class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.bind) (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> slice = <span class="built_in">Array</span>.prototype.slice;</span><br><span class="line">  <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> thatFunc = <span class="keyword">this</span>, thatArg = <span class="built_in">arguments</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> args = slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> thatFunc !== <span class="string">'function'</span>) &#123;</span><br><span class="line">      <span class="comment">// closest thing possible to the ECMAScript 5</span></span><br><span class="line">      <span class="comment">// internal IsCallable function</span></span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Function.prototype.bind - what is trying to be bound is not callable'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> funcArgs = args.concat(slice.call(<span class="built_in">arguments</span>))</span><br><span class="line">      <span class="keyword">return</span> thatFunc.apply(thatArg, funcArgs);</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br></pre></td></tr></table></figure>

<h3 id="Boolean"><a href="#Boolean" class="headerlink" title="Boolean"></a>Boolean</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oBooleanObject = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="comment">// 覆盖了 Object 对象的 ValueOf() 方法，返回原始值，即 true 和 false。</span></span><br><span class="line"><span class="comment">// ToString() 方法也会被覆盖，返回字符串 "true" 或 "false"。</span></span><br><span class="line"><span class="keyword">var</span> oFalseObject = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">false</span>);</span><br><span class="line"><span class="keyword">var</span> bResult = oFalseObject &amp;&amp; <span class="literal">true</span>;	<span class="comment">//输出 true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>());                     <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">''</span>));                   <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">null</span>));                 <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">undefined</span>));            <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">NaN</span>));                  <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">0</span>));                    <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="string">'hello'</span>));              <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="number">50</span>));                   <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(&#123;&#125;));                   <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>([]));                   <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(<span class="literal">Infinity</span>));             <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Boolean</span>(-<span class="literal">Infinity</span>));            <span class="comment">//true</span></span><br></pre></td></tr></table></figure>

<h4 id="hasOwnProperty-NaN"><a href="#hasOwnProperty-NaN" class="headerlink" title="hasOwnProperty"></a>hasOwnProperty</h4><p>对象自身属性中是否具有指定的属性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">o.propOne = <span class="literal">null</span>;</span><br><span class="line">o.hasOwnProperty(<span class="string">'propOne'</span>); <span class="comment">// true</span></span><br><span class="line">o.propTwo = <span class="literal">undefined</span>;  </span><br><span class="line">o.hasOwnProperty(<span class="string">'propTwo'</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line">o = <span class="keyword">new</span> <span class="built_in">Object</span>();</span><br><span class="line">o.prop = <span class="string">'exists'</span>;</span><br><span class="line">o.hasOwnProperty(<span class="string">'prop'</span>);             <span class="comment">// true</span></span><br><span class="line">o.hasOwnProperty(<span class="string">'toString'</span>);         <span class="comment">// false</span></span><br><span class="line">o.hasOwnProperty(<span class="string">'hasOwnProperty'</span>);   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="isPrototypeOf-NaN"><a href="#isPrototypeOf-NaN" class="headerlink" title="isPrototypeOf"></a>isPrototypeOf</h4><p>一个对象是否存在于另一个对象的原型链上。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Foo</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Bar</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Baz</span>(<span class="params"></span>) </span>&#123;&#125;</span><br><span class="line">Bar.prototype = <span class="built_in">Object</span>.create(Foo.prototype);</span><br><span class="line">Baz.prototype = <span class="built_in">Object</span>.create(Bar.prototype);</span><br><span class="line"><span class="keyword">var</span> baz = <span class="keyword">new</span> Baz();</span><br><span class="line"><span class="built_in">console</span>.log(Baz.prototype.isPrototypeOf(baz));    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Bar.prototype.isPrototypeOf(baz));    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Foo.prototype.isPrototypeOf(baz));    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.prototype.isPrototypeOf(baz)); <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="propertyIsEnumerable-NaN"><a href="#propertyIsEnumerable-NaN" class="headerlink" title="propertyIsEnumerable"></a>propertyIsEnumerable</h4><p>表示指定的属性是否可枚举。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">o.prop = <span class="string">'is enumerable'</span>;</span><br><span class="line">a[<span class="number">0</span>] = <span class="string">'is enumerable'</span>;</span><br><span class="line">o.propertyIsEnumerable(<span class="string">'prop'</span>); <span class="comment">// true</span></span><br><span class="line">a.propertyIsEnumerable(<span class="number">0</span>);      <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> a = [<span class="string">'is enumerable'</span>];</span><br><span class="line"></span><br><span class="line">a.propertyIsEnumerable(<span class="number">0</span>);            <span class="comment">// true</span></span><br><span class="line">a.propertyIsEnumerable(<span class="string">'length'</span>);     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Math</span>.propertyIsEnumerable(<span class="string">'random'</span>);  <span class="comment">// false</span></span><br><span class="line"><span class="keyword">this</span>.propertyIsEnumerable(<span class="string">'Math'</span>);    <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="toLocaleString-NaN"><a href="#toLocaleString-NaN" class="headerlink" title="toLocaleString"></a>toLocaleString</h4><p>返回一个该对象的字符串表示。此方法被用于派生对象为了特定语言环境的目的而重载使用。</p>
<h4 id="valueOf-NaN"><a href="#valueOf-NaN" class="headerlink" title="valueOf"></a>valueOf</h4><p>返回指定对象的原始值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> array = [<span class="string">"ABC"</span>, <span class="literal">true</span>, <span class="number">12</span>, <span class="number">-5</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array.valueOf() === array);       <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> date = <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2013</span>, <span class="number">7</span>, <span class="number">18</span>, <span class="number">23</span>, <span class="number">11</span>, <span class="number">59</span>, <span class="number">230</span>);</span><br><span class="line"><span class="built_in">console</span>.log(date.valueOf());                  <span class="comment">// 1376838719230</span></span><br><span class="line"><span class="keyword">var</span> num =  <span class="number">15.26540</span>;</span><br><span class="line"><span class="built_in">console</span>.log(num.valueOf());                   <span class="comment">// 15.2654</span></span><br><span class="line"><span class="keyword">var</span> bool = <span class="literal">true</span>;</span><br><span class="line"><span class="built_in">console</span>.log(bool.valueOf() === bool);         <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> newBool = <span class="keyword">new</span> <span class="built_in">Boolean</span>(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">console</span>.log(newBool.valueOf() == newBool);    <span class="comment">// true</span></span><br><span class="line"><span class="comment">// 但是不全等，两者类型不相等，前者是boolean类型，后者是object类型</span></span><br><span class="line"><span class="built_in">console</span>.log(newBool.valueOf() === newBool);   <span class="comment">// false</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="built_in">console</span>.log( foo.valueOf() === foo );         <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> foo2 =  <span class="keyword">new</span> <span class="built_in">Function</span>(<span class="string">"x"</span>, <span class="string">"y"</span>, <span class="string">"return x + y;"</span>);</span><br><span class="line"><span class="built_in">console</span>.log( foo2.valueOf() );</span><br><span class="line"><span class="keyword">var</span> obj = &#123;<span class="attr">name</span>: <span class="string">"张三"</span>, <span class="attr">age</span>: <span class="number">18</span>&#125;;</span><br><span class="line"><span class="built_in">console</span>.log( obj.valueOf() === obj );         <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">"http://www.xyz.com"</span>;</span><br><span class="line"><span class="built_in">console</span>.log( str.valueOf() === str );         <span class="comment">// true</span></span><br><span class="line"><span class="keyword">var</span> str2 = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"http://www.xyz.com"</span>);</span><br><span class="line"><span class="comment">// 两者的值相等，但不全等，因为类型不同，前者为string类型，后者为object类型</span></span><br><span class="line"><span class="built_in">console</span>.log( str2.valueOf() === str2 );       <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="setPrototypeOf"><a href="#setPrototypeOf" class="headerlink" title="setPrototypeOf"></a>setPrototypeOf</h4><p>设置一个指定的对象的原型 ( 即, 内部[[Prototype]]属性）到另一个对象或  null。</p>
<h4 id="values"><a href="#values" class="headerlink" title="values"></a>values</h4><p>返回一个给定对象自身的所有可枚举属性值的数组，值的顺序与使用for…in循环的顺序相同 ( 区别在于 for-in 循环枚举原型链中的属性 )。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123; <span class="attr">foo</span>: <span class="string">'bar'</span>, <span class="attr">baz</span>: <span class="number">42</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(obj));          <span class="comment">// ['bar', 42]</span></span><br><span class="line"><span class="keyword">var</span> obj = &#123; <span class="number">0</span>: <span class="string">'a'</span>, <span class="number">1</span>: <span class="string">'b'</span>, <span class="number">2</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(obj));          <span class="comment">// ['a', 'b', 'c']</span></span><br><span class="line"><span class="keyword">var</span> an_obj = &#123; <span class="number">100</span>: <span class="string">'a'</span>, <span class="number">2</span>: <span class="string">'b'</span>, <span class="number">7</span>: <span class="string">'c'</span> &#125;;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(an_obj));       <span class="comment">// ['b', 'c', 'a']</span></span><br><span class="line"><span class="keyword">var</span> my_obj = <span class="built_in">Object</span>.create(&#123;&#125;, &#123; <span class="attr">getFoo</span>: &#123; <span class="attr">value</span>: <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123; <span class="keyword">return</span> <span class="keyword">this</span>.foo; &#125; &#125; &#125;);</span><br><span class="line">my_obj.foo = <span class="string">'bar'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(my_obj));       <span class="comment">// ['bar']</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Object</span>.values(<span class="string">'foo'</span>));        <span class="comment">// ['f', 'o', 'o']</span></span><br></pre></td></tr></table></figure>

<h3 id="Number"><a href="#Number" class="headerlink" title="Number"></a>Number</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oNumberObject = <span class="keyword">new</span> <span class="built_in">Number</span>(<span class="number">68</span>);</span><br><span class="line"><span class="keyword">var</span> iNumber = oNumberObject.valueOf();</span><br><span class="line"><span class="comment">// 返回的是具有指定位数小数的数字的字符串表示，能表示具有 0 到 20 位小数的数字，超过这个范围的值会引发错误。</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toFixed(<span class="number">2</span>));      <span class="comment">//输出 "68.00"</span></span><br><span class="line"><span class="comment">// 返回的是用科学计数法表示的数字的字符串形式。</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toExponential(<span class="number">1</span>));<span class="comment">//输出 "6.8e+1"</span></span><br><span class="line"><span class="comment">// 返回数字的预定形式或指数形式。它有一个参数，即用于表示数的数字总数（不包括指数）。</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toPrecision(<span class="number">1</span>));  <span class="comment">//输出 "7e+1"</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toPrecision(<span class="number">2</span>));  <span class="comment">//输出 "68"</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toPrecision(<span class="number">3</span>));  <span class="comment">//输出 "68.0"</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toString(<span class="number">2</span>));     <span class="comment">//输出 "1000100"</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toString(<span class="number">8</span>));     <span class="comment">//输出 "104"</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toString(<span class="number">16</span>));    <span class="comment">//输出 "44"</span></span><br><span class="line"><span class="built_in">console</span>.log(oNumberObject.toString(<span class="number">36</span>));    <span class="comment">//输出 "1w"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.MAX_VALUE);              <span class="comment">//输出 1.7976931348623157e+308</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.MIN_VALUE);              <span class="comment">//输出 5e-324</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.POSITIVE_INFINITY);      <span class="comment">//输出 Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.NEGATIVE_INFINITY);      <span class="comment">//输出 -Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> == <span class="literal">NaN</span>);                    <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>());                      <span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">false</span>));                 <span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">true</span>));                  <span class="comment">//1</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">undefined</span>));             <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="literal">null</span>));                  <span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">'1.2'</span>));                 <span class="comment">//1.2</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(<span class="string">'1.2.3'</span>));               <span class="comment">//1.2.3</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>(&#123;&#125;));                    <span class="comment">//NaN</span></span><br></pre></td></tr></table></figure>

<h3 id="String"><a href="#String" class="headerlink" title="String"></a>String</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> oStringObject = <span class="keyword">new</span> <span class="built_in">String</span>(<span class="string">"hello world"</span>);</span><br><span class="line"><span class="comment">// String 对象的 valueOf() 方法和 toString() 方法都会返回 String 类型的原始值：</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.valueOf() == oStringObject.toString());	<span class="comment">//输出 "true"</span></span><br><span class="line"><span class="comment">// 和调用 toString() 的不同之处在于，对 null 和 undefined 值强制类型转换可以生成字符串而不引发错误</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> <span class="built_in">String</span>(<span class="literal">null</span>).toString());       <span class="comment">//输出 "null"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>());                          <span class="comment">//输出 ""</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">undefined</span>));                 <span class="comment">//输出 "undefined"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>([]));                        <span class="comment">//输出 ""</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]));                 <span class="comment">//输出 "1,2,3"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(&#123;&#125;));                        <span class="comment">//输出 "[object Object]"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="literal">false</span>));                     <span class="comment">//输出 "false"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="function"><span class="params">()</span>=&gt;</span><span class="number">0</span>));                     <span class="comment">//输出 "()=&gt;0"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>(<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;));              <span class="comment">//输出 "function()&#123;&#125;"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>([[<span class="number">-1</span>,<span class="number">2</span>,[<span class="number">3</span>]],[<span class="number">4</span>,[<span class="number">5</span>]]]));      <span class="comment">//输出 "-1,2,3,4,5"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.charAt(<span class="number">1</span>));	          <span class="comment">//输出 "e"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.charCodeAt(<span class="number">1</span>));	      <span class="comment">//输出 "101"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.fromCharCode(<span class="number">101</span>));	        <span class="comment">//输出 "e"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"hello "</span>.concat(<span class="string">"world"</span>));	        <span class="comment">//输出 "hello world"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.indexOf(<span class="string">"o"</span>));		    <span class="comment">//输出 "4"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Blue Whale"</span>.indexOf(<span class="string">"l"</span>, <span class="number">5</span>));      <span class="comment">//输出 8</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.lastIndexOf(<span class="string">"o"</span>));	  <span class="comment">//输出 "7"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"1"</span>.padStart(<span class="number">3</span>, <span class="string">"0"</span>));	            <span class="comment">//输出 "001"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"1"</span>.padEnd(<span class="number">3</span>, <span class="string">"0"</span>));	              <span class="comment">//输出 "100"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"yellow"</span>.localeCompare(<span class="string">"brick"</span>));		<span class="comment">//输出 "1"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"yellow"</span>.localeCompare(<span class="string">"yellow"</span>));	<span class="comment">//输出 "0"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"yellow"</span>.localeCompare(<span class="string">"zoo"</span>));		  <span class="comment">//输出 "-1"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.slice(<span class="number">3</span>));		        <span class="comment">//输出 "lo world"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.substring(<span class="number">3</span>));		    <span class="comment">//输出 "lo world"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.slice(<span class="number">3</span>, <span class="number">7</span>));		      <span class="comment">//输出 "lo w"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.substring(<span class="number">3</span>, <span class="number">7</span>));	    <span class="comment">//输出 "lo w"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.slice(<span class="number">-3</span>));		        <span class="comment">//输出 "rld"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.substring(<span class="number">-3</span>));	      <span class="comment">//输出 "hello world"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.slice(<span class="number">3</span>, <span class="number">-4</span>));		    <span class="comment">//输出 "lo w"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.substring(<span class="number">3</span>, <span class="number">-4</span>));	  <span class="comment">//输出 "hel"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.toLocaleUpperCase());	<span class="comment">//输出 "HELLO WORLD"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.toUpperCase());		    <span class="comment">//输出 "HELLO WORLD"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.toLocaleLowerCase());	<span class="comment">//输出 "hello world"</span></span><br><span class="line"><span class="built_in">console</span>.log(oStringObject.toLowerCase());		    <span class="comment">//输出 "hello world"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">String</span>.raw<span class="string">`\n\5\xxx\uuu\111`</span>);		  <span class="comment">//输出 "\n\5\xxx\uuu\111"</span></span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">'Cats are the best!'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str1.endsWith(<span class="string">'best'</span>, <span class="number">17</span>));         <span class="comment">//输出 true</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'For more information, see Chapter 3.4.5.1'</span>;</span><br><span class="line"><span class="keyword">var</span> re = <span class="regexp">/see (chapter \d+(\.\d)*)/i</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.match(re));</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> greeting = <span class="string">'   Hello world!   '</span>;</span><br><span class="line"><span class="built_in">console</span>.log(greeting.trim());                   <span class="comment">//输出 Hello world!</span></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'To be, or not to be, that is the question.'</span>;</span><br><span class="line"><span class="built_in">console</span>.log(str.includes(<span class="string">'To be'</span>));             <span class="comment">//输出 true</span></span><br></pre></td></tr></table></figure>

<h3 id="Array"><a href="#Array" class="headerlink" title="Array"></a>Array</h3><h4 id="from"><a href="#from" class="headerlink" title="from"></a>from</h4><p>从一个类似数组或可迭代对象创建一个新的，浅拷贝的数组实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.from(arrayLike[, mapFn[, thisArg]])</span></span><br><span class="line"><span class="comment">// arrayLike  想要转换成数组的伪数组对象或可迭代对象。</span></span><br><span class="line"><span class="comment">// mapFn      可选，如果指定了该参数，新数组中的每个元素会执行该回调函数。</span></span><br><span class="line"><span class="comment">// thisArg    可选，可选参数，执行回调函数 mapFn 时 this 对象。</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from(<span class="string">'foo'</span>));                   <span class="comment">// ["f", "o", "o"]</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Array</span>.from([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>], x =&gt; x + x));   <span class="comment">// [2, 4, 6]</span></span><br></pre></td></tr></table></figure>

<h4 id="isArray"><a href="#isArray" class="headerlink" title="isArray"></a>isArray</h4><p>确定传递的值是否是一个 Array。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]);   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123;<span class="attr">foo</span>: <span class="number">123</span>&#125;);  <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="string">"foobar"</span>);    <span class="comment">// false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);   <span class="comment">// false</span></span><br><span class="line"><span class="comment">// 下面的函数调用都返回 true</span></span><br><span class="line"><span class="built_in">Array</span>.isArray([]);</span><br><span class="line"><span class="built_in">Array</span>.isArray([<span class="number">1</span>]);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="keyword">new</span> <span class="built_in">Array</span>());</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>))</span><br><span class="line"><span class="comment">// 鲜为人知的事实：其实 Array.prototype 也是一个数组。</span></span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="built_in">Array</span>.prototype); </span><br><span class="line"><span class="comment">// 下面的函数调用都返回 false</span></span><br><span class="line"><span class="built_in">Array</span>.isArray();</span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123;&#125;);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">null</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">undefined</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="number">17</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="string">'Array'</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">true</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="literal">false</span>);</span><br><span class="line"><span class="built_in">Array</span>.isArray(<span class="keyword">new</span> <span class="built_in">Uint8Array</span>(<span class="number">32</span>))</span><br><span class="line"><span class="built_in">Array</span>.isArray(&#123; <span class="attr">__proto__</span>: <span class="built_in">Array</span>.prototype &#125;);</span><br></pre></td></tr></table></figure>

<p>Polyfill</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Array</span>.isArray) &#123;</span><br><span class="line">  <span class="built_in">Array</span>.isArray = <span class="function"><span class="keyword">function</span>(<span class="params">arg</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Object</span>.prototype.toString.call(arg) === <span class="string">'[object Array]'</span>;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="of"><a href="#of" class="headerlink" title="of"></a>of</h4><p>创建一个具有可变数量参数的新数组实例，而不考虑参数的数量或类型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.of(element0[, element1[, ...[, elementN]]])</span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">7</span>);       <span class="comment">// [7] </span></span><br><span class="line"><span class="built_in">Array</span>.of(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>); <span class="comment">// [1, 2, 3]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">7</span>);          <span class="comment">// [ , , , , , , ]</span></span><br><span class="line"><span class="built_in">Array</span>(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>);    <span class="comment">// [1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<h4 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h4><p>合并两个或多个数组。不会更改现有数组，而是返回一个新数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="string">'d'</span>, <span class="string">'e'</span>, <span class="string">'f'</span>];</span><br><span class="line"><span class="keyword">const</span> array3 = array1.concat(array2);</span><br><span class="line"><span class="built_in">console</span>.log(array3);    <span class="comment">// ["a", "b", "c", "d", "e", "f"]</span></span><br></pre></td></tr></table></figure>

<h4 id="copyWithin"><a href="#copyWithin" class="headerlink" title="copyWithin"></a>copyWithin</h4><p>浅复制数组的一部分到同一数组中的另一个位置，并返回它，不会改变原数组的长度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.copyWithin(target[, start[, end]])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array1.copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>));    <span class="comment">// ["d", "b", "c", "d", "e"]</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.copyWithin(<span class="number">1</span>, <span class="number">3</span>));       <span class="comment">// ["d", "d", "e", "d", "e"]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">-2</span>)              <span class="comment">// [1, 2, 3, 1, 2]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>)            <span class="comment">// [4, 5, 3, 4, 5]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>)         <span class="comment">// [4, 2, 3, 4, 5]</span></span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>].copyWithin(<span class="number">-2</span>, <span class="number">-3</span>, <span class="number">-1</span>)      <span class="comment">// [1, 2, 3, 3, 4]</span></span><br><span class="line">[].copyWithin.call(&#123;<span class="attr">length</span>: <span class="number">5</span>, <span class="number">3</span>: <span class="number">1</span>&#125;, <span class="number">0</span>, <span class="number">3</span>);<span class="comment">// &#123;0: 1, 3: 1, length: 5&#125;</span></span><br><span class="line"><span class="keyword">var</span> i32a = <span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line">i32a.copyWithin(<span class="number">0</span>, <span class="number">2</span>);                      <span class="comment">// Int32Array [3, 4, 5, 4, 5]</span></span><br><span class="line">[].copyWithin.call(<span class="keyword">new</span> <span class="built_in">Int32Array</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]), <span class="number">0</span>, <span class="number">3</span>, <span class="number">4</span>); <span class="comment">// Int32Array [4, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<h4 id="entries-1"><a href="#entries-1" class="headerlink" title="entries"></a>entries</h4><p>返回一个新的Array Iterator对象，该对象包含数组中每个索引的键/值对。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">const</span> iterator1 = array1.entries();</span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);  <span class="comment">// Array [0, "a"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);  <span class="comment">// Array [1, "b"]</span></span><br></pre></td></tr></table></figure>

<h4 id="every"><a href="#every" class="headerlink" title="every"></a>every</h4><p>测试一个数组内的所有元素是否都能通过某个指定函数的测试。它返回一个布尔值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> isBelowThreshold = <span class="function">(<span class="params">currentValue</span>) =&gt;</span> currentValue &lt; <span class="number">40</span>;</span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">30</span>, <span class="number">39</span>, <span class="number">29</span>, <span class="number">10</span>, <span class="number">13</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array1.every(isBelowThreshold));    <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="fill"><a href="#fill" class="headerlink" title="fill"></a>fill</h4><p>用一个固定值填充一个数组中从起始索引到终止索引内的全部元素。不包括终止索引。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.fill(value[, start[, end]])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">0</span>, <span class="number">2</span>, <span class="number">4</span>));  <span class="comment">// [1, 2, 0, 0]</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">5</span>, <span class="number">1</span>));     <span class="comment">// [1, 5, 5, 5]</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.fill(<span class="number">6</span>));        <span class="comment">// [6, 6, 6, 6]</span></span><br></pre></td></tr></table></figure>

<h4 id="filter"><a href="#filter" class="headerlink" title="filter"></a>filter</h4><p>创建一个新数组, 其包含通过所提供函数实现的测试的所有元素。 </p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var newArray = arr.filter(callback(element[, index[, array]])[, thisArg])</span></span><br><span class="line"><span class="keyword">const</span> words = [<span class="string">'spray'</span>, <span class="string">'limit'</span>, <span class="string">'elite'</span>, <span class="string">'exuberant'</span>, <span class="string">'destruction'</span>, <span class="string">'present'</span>];</span><br><span class="line"><span class="keyword">const</span> result = words.filter(<span class="function"><span class="params">word</span> =&gt;</span> word.length &gt; <span class="number">6</span>);</span><br><span class="line"><span class="built_in">console</span>.log(result);    <span class="comment">// ["exuberant", "destruction", "present"]</span></span><br></pre></td></tr></table></figure>

<h4 id="find"><a href="#find" class="headerlink" title="find"></a>find</h4><p>返回数组中满足提供的测试函数的第一个元素的值。否则返回 undefined。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.find(callback[, thisArg])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">5</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>];</span><br><span class="line"><span class="keyword">const</span> found = array1.find(<span class="function"><span class="params">element</span> =&gt;</span> element &gt; <span class="number">10</span>);</span><br><span class="line"><span class="built_in">console</span>.log(found);   <span class="comment">// 12</span></span><br></pre></td></tr></table></figure>

<h4 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex"></a>findIndex</h4><p>返回数组中满足提供的测试函数的第一个元素的索引。否则返回-1。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.findIndex(callback[, thisArg])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">5</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>];</span><br><span class="line"><span class="keyword">const</span> isLargeNumber = <span class="function">(<span class="params">element</span>) =&gt;</span> element &gt; <span class="number">13</span>;</span><br><span class="line"><span class="built_in">console</span>.log(array1.findIndex(isLargeNumber));     <span class="comment">// 3</span></span><br></pre></td></tr></table></figure>

<h4 id="flat"><a href="#flat" class="headerlink" title="flat"></a>flat</h4><p>会按照一个可指定的深度递归遍历数组，并将所有元素与遍历到的子数组中的元素合并为一个新数组返回。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var newArray = arr.flat([depth])</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>]];</span><br><span class="line">arr1.flat();          <span class="comment">// [1, 2, 3, 4]</span></span><br><span class="line"><span class="keyword">var</span> arr2 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>]]];</span><br><span class="line">arr2.flat();          <span class="comment">// [1, 2, 3, 4, [5, 6]]</span></span><br><span class="line"><span class="keyword">var</span> arr3 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>]]];</span><br><span class="line">arr3.flat(<span class="number">2</span>);         <span class="comment">// [1, 2, 3, 4, 5, 6]</span></span><br><span class="line"><span class="comment">//使用 Infinity，可展开任意深度的嵌套数组</span></span><br><span class="line"><span class="keyword">var</span> arr4 = [<span class="number">1</span>, <span class="number">2</span>, [<span class="number">3</span>, <span class="number">4</span>, [<span class="number">5</span>, <span class="number">6</span>, [<span class="number">7</span>, <span class="number">8</span>, [<span class="number">9</span>, <span class="number">10</span>]]]]];</span><br><span class="line">arr4.flat(<span class="literal">Infinity</span>);  <span class="comment">// [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]</span></span><br></pre></td></tr></table></figure>

<h4 id="flatMap"><a href="#flatMap" class="headerlink" title="flatMap"></a>flatMap</h4><p>首先使用映射函数映射每个元素，然后将结果压缩成一个新数组。</p>
<p>它与 map 连着深度值为1的 flat 几乎相同，但 flatMap 通常在合并成一种方法的效率稍微高一些。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var new_array = arr.flatMap(function callback(currentValue[, index[, array]]) &#123;</span></span><br><span class="line"><span class="comment">//     // return element for new_array</span></span><br><span class="line"><span class="comment">// &#125;[, thisArg])</span></span><br><span class="line"><span class="keyword">var</span> arr1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line">arr1.map(<span class="function"><span class="params">x</span> =&gt;</span> [x * <span class="number">2</span>]);       <span class="comment">// [[2], [4], [6], [8]]</span></span><br><span class="line">arr1.flatMap(<span class="function"><span class="params">x</span> =&gt;</span> [x * <span class="number">2</span>]);   <span class="comment">// [2, 4, 6, 8]</span></span><br><span class="line">arr1.flatMap(<span class="function"><span class="params">x</span> =&gt;</span> [[x * <span class="number">2</span>]]); <span class="comment">// [[2], [4], [6], [8]]</span></span><br></pre></td></tr></table></figure>

<h4 id="forEach"><a href="#forEach" class="headerlink" title="forEach"></a>forEach</h4><p>对数组的每个元素执行一次提供的函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.forEach(callback(currentValue [, index [, array]])[, thisArg]);</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line">array1.forEach(<span class="function"><span class="params">element</span> =&gt;</span> <span class="built_in">console</span>.log(element));  <span class="comment">// "a", "b", "c"</span></span><br></pre></td></tr></table></figure>

<h4 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h4><p>判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 true，否则返回false。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.includes(valueToFind[, fromIndex])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array1.includes(<span class="number">2</span>));      <span class="comment">// true</span></span><br><span class="line"><span class="keyword">const</span> pets = [<span class="string">'cat'</span>, <span class="string">'dog'</span>, <span class="string">'bat'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(pets.includes(<span class="string">'cat'</span>));    <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(pets.includes(<span class="string">'at'</span>));     <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h4 id="indexOf、lastIndexOf"><a href="#indexOf、lastIndexOf" class="headerlink" title="indexOf、lastIndexOf"></a>indexOf、lastIndexOf</h4><ul>
<li><code>indexOf</code>: 返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。</li>
<li><code>lastIndexOf</code>: 返回指定元素（也即有效的 JavaScript 值或变量）在数组中的最后一个的索引，如果不存在则返回 -1。从数组的后面向前查找，从 fromIndex 处开始。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.indexOf(searchElement[, fromIndex])</span></span><br><span class="line"><span class="keyword">const</span> beasts = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'bison'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'bison'</span>));       <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'bison'</span>, <span class="number">2</span>));    <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(beasts.indexOf(<span class="string">'giraffe'</span>));     <span class="comment">// -1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// arr.lastIndexOf(searchElement[, fromIndex])</span></span><br><span class="line"><span class="keyword">const</span> animals = [<span class="string">'Dodo'</span>, <span class="string">'Tiger'</span>, <span class="string">'Penguin'</span>, <span class="string">'Dodo'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(animals.lastIndexOf(<span class="string">'Dodo'</span>));   <span class="comment">// 3</span></span><br><span class="line"><span class="built_in">console</span>.log(animals.lastIndexOf(<span class="string">'Tiger'</span>));  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h4 id="join"><a href="#join" class="headerlink" title="join"></a>join</h4><p>将一个数组（或一个类数组对象）的所有元素连接成一个字符串并返回这个字符串。</p>
<p>如果数组只有一个项目，那么将返回该项目而不使用分隔符。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.join([separator])</span></span><br><span class="line"><span class="keyword">const</span> elements = [<span class="string">'Fire'</span>, <span class="string">'Air'</span>, <span class="string">'Water'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(elements.join());     <span class="comment">// "Fire,Air,Water"</span></span><br><span class="line"><span class="built_in">console</span>.log(elements.join(<span class="string">''</span>));   <span class="comment">// "FireAirWater"</span></span><br><span class="line"><span class="built_in">console</span>.log(elements.join(<span class="string">'-'</span>));  <span class="comment">// "Fire-Air-Water"</span></span><br></pre></td></tr></table></figure>

<h4 id="keys-1"><a href="#keys-1" class="headerlink" title="keys"></a>keys</h4><p>返回一个包含数组中每个索引键的Array Iterator对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">const</span> iterator = array1.keys();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> key <span class="keyword">of</span> iterator) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(key);   <span class="comment">// 0, 1, 2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="map"><a href="#map" class="headerlink" title="map"></a>map</h4><p>创建一个新数组，其结果是该数组中的每个元素都调用一个提供的函数后返回的结果。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// var new_array = arr.map(function callback(currentValue[, index[, array]]) &#123;</span></span><br><span class="line"><span class="comment">// // Return element for new_array </span></span><br><span class="line"><span class="comment">// &#125;[, thisArg])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>];</span><br><span class="line"><span class="keyword">const</span> map1 = array1.map(<span class="function"><span class="params">x</span> =&gt;</span> x * <span class="number">2</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map1);    <span class="comment">// [2, 8, 18, 32]</span></span><br></pre></td></tr></table></figure>

<h4 id="pop"><a href="#pop" class="headerlink" title="pop"></a>pop</h4><p>从数组中删除最后一个元素，并返回该元素的值。此方法更改数组的长度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> plants = [<span class="string">'broccoli'</span>, <span class="string">'cauliflower'</span>, <span class="string">'cabbage'</span>, <span class="string">'kale'</span>, <span class="string">'tomato'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(plants.pop());    <span class="comment">// "tomato"</span></span><br><span class="line"><span class="built_in">console</span>.log(plants);          <span class="comment">// ["broccoli", "cauliflower", "cabbage", "kale"]</span></span><br><span class="line">plants.pop();</span><br><span class="line"><span class="built_in">console</span>.log(plants);          <span class="comment">// ["broccoli", "cauliflower", "cabbage"]</span></span><br></pre></td></tr></table></figure>

<h4 id="push"><a href="#push" class="headerlink" title="push"></a>push</h4><p>将一个或多个元素添加到数组的末尾，并返回该数组的新长度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> animals = [<span class="string">'pigs'</span>, <span class="string">'goats'</span>, <span class="string">'sheep'</span>];</span><br><span class="line"><span class="keyword">const</span> count = animals.push(<span class="string">'cows'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(count);     <span class="comment">// 4</span></span><br><span class="line"><span class="built_in">console</span>.log(animals);   <span class="comment">// ["pigs", "goats", "sheep", "cows"]</span></span><br><span class="line">animals.push(<span class="string">'chickens'</span>, <span class="string">'cats'</span>, <span class="string">'dogs'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(animals);   <span class="comment">// ["pigs", "goats", "sheep", "cows", "chickens", "cats", "dogs"]</span></span><br></pre></td></tr></table></figure>

<h4 id="reduce"><a href="#reduce" class="headerlink" title="reduce"></a>reduce</h4><p>对数组中的每个元素执行一个由您提供的reducer函数(升序执行)，将其结果汇总为单个返回值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.reduce(callback(accumulator, currentValue[, index[, array]])[, initialValue])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>];</span><br><span class="line"><span class="keyword">const</span> reducer = <span class="function">(<span class="params">accumulator, currentValue</span>) =&gt;</span> accumulator + currentValue;</span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer));    <span class="comment">// 10</span></span><br><span class="line"><span class="built_in">console</span>.log(array1.reduce(reducer, <span class="number">5</span>)); <span class="comment">// 15</span></span><br></pre></td></tr></table></figure>

<h4 id="reduceRight"><a href="#reduceRight" class="headerlink" title="reduceRight"></a>reduceRight</h4><p>接受一个函数作为累加器（accumulator）和数组的每个值（从右到左）将其减少为单个值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.reduceRight(callback(accumulator, currentValue[, index[, array]])[, initialValue])</span></span><br><span class="line"><span class="keyword">const</span> array1 = [[<span class="number">0</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>], [<span class="number">4</span>, <span class="number">5</span>]].reduceRight(</span><br><span class="line">  (accumulator, currentValue) =&gt; accumulator.concat(currentValue)</span><br><span class="line">);</span><br><span class="line"><span class="built_in">console</span>.log(array1);    <span class="comment">// [4, 5, 2, 3, 0, 1]</span></span><br></pre></td></tr></table></figure>

<h4 id="reverse"><a href="#reverse" class="headerlink" title="reverse"></a>reverse</h4><p>将数组中元素的位置颠倒，并返回该数组。数组的第一个元素会变成最后一个，数组的最后一个元素变成第一个。该方法会改变原数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'one'</span>, <span class="string">'two'</span>, <span class="string">'three'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'array1:'</span>, array1);     <span class="comment">// "array1:" ["one", "two", "three"]</span></span><br><span class="line"><span class="keyword">const</span> reversed = array1.reverse();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'reversed:'</span>, reversed); <span class="comment">// "reversed:" ["three", "two", "one"]</span></span><br><span class="line"><span class="comment">// Careful: reverse is destructive -- it changes the original array.</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'array1:'</span>, array1);     <span class="comment">// "array1:" ["three", "two", "one"]</span></span><br></pre></td></tr></table></figure>

<h4 id="shift"><a href="#shift" class="headerlink" title="shift"></a>shift</h4><p>从数组中删除第一个元素，并返回该元素的值。此方法更改数组的长度。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="keyword">const</span> firstElement = array1.shift();</span><br><span class="line"><span class="built_in">console</span>.log(array1);        <span class="comment">// [2, 3]</span></span><br><span class="line"><span class="built_in">console</span>.log(firstElement);  <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h4 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h4><p>返回一个新的数组对象，这一对象是一个由 begin 和 end 决定的原数组的浅拷贝（包括 begin，不包括end）。原始数组不会被改变。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.slice([begin[, end]])</span></span><br><span class="line"><span class="keyword">const</span> animals = [<span class="string">'ant'</span>, <span class="string">'bison'</span>, <span class="string">'camel'</span>, <span class="string">'duck'</span>, <span class="string">'elephant'</span>];</span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>));      <span class="comment">// ["camel", "duck", "elephant"]</span></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">2</span>, <span class="number">4</span>));   <span class="comment">// ["camel", "duck"]</span></span><br><span class="line"><span class="built_in">console</span>.log(animals.slice(<span class="number">1</span>, <span class="number">5</span>));   <span class="comment">// ["bison", "camel", "duck", "elephant"]</span></span><br></pre></td></tr></table></figure>

<h4 id="some"><a href="#some" class="headerlink" title="some"></a>some</h4><p>测试数组中是不是至少有1个元素通过了被提供的函数测试。它返回的是一个Boolean类型的值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.some(callback(element[, index[, array]])[, thisArg])</span></span><br><span class="line"><span class="keyword">const</span> array = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>];</span><br><span class="line"><span class="comment">// checks whether an element is even</span></span><br><span class="line"><span class="keyword">const</span> even = <span class="function">(<span class="params">element</span>) =&gt;</span> element % <span class="number">2</span> === <span class="number">0</span>;</span><br><span class="line"><span class="built_in">console</span>.log(array.some(even));    <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h4 id="sort"><a href="#sort" class="headerlink" title="sort"></a>sort</h4><p>用<a href="https://en.wikipedia.org/wiki/In-place_algorithm" target="_blank" rel="noopener">原地算法</a>对数组的元素进行排序，并返回数组。默认排序顺序是在将元素转换为字符串，然后比较它们的UTF-16代码单元值序列时构建的</p>
<p>由于它取决于具体实现，因此无法保证排序的时间和空间复杂性。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.sort([compareFunction])</span></span><br><span class="line"><span class="keyword">const</span> months = [<span class="string">'March'</span>, <span class="string">'Jan'</span>, <span class="string">'Feb'</span>, <span class="string">'Dec'</span>];</span><br><span class="line">months.sort();</span><br><span class="line"><span class="built_in">console</span>.log(months);    <span class="comment">// ["Dec", "Feb", "Jan", "March"]</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">30</span>, <span class="number">4</span>, <span class="number">21</span>, <span class="number">100000</span>];</span><br><span class="line">array1.sort();</span><br><span class="line"><span class="built_in">console</span>.log(array1);    <span class="comment">// [1, 100000, 21, 30, 4]</span></span><br><span class="line"><span class="keyword">var</span> numbers = [<span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>]; </span><br><span class="line">numbers.sort(<span class="function">(<span class="params">a, b</span>) =&gt;</span> a - b); </span><br><span class="line"><span class="built_in">console</span>.log(numbers);   <span class="comment">// [1, 2, 3, 4, 5]</span></span><br></pre></td></tr></table></figure>

<h4 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h4><p>过删除或替换现有元素或者原地添加新的元素来修改数组,并以数组形式返回被修改的内容。此方法会改变原数组。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// array.splice(start[, deleteCount[, item1[, item2[, ...]]]])</span></span><br><span class="line"><span class="keyword">const</span> months = [<span class="string">'Jan'</span>, <span class="string">'March'</span>, <span class="string">'April'</span>, <span class="string">'June'</span>];</span><br><span class="line">months.splice(<span class="number">1</span>, <span class="number">0</span>, <span class="string">'Feb'</span>);</span><br><span class="line"><span class="comment">// inserts at index 1</span></span><br><span class="line"><span class="built_in">console</span>.log(months);      <span class="comment">// ["Jan", "Feb", "March", "April", "June"]</span></span><br><span class="line">months.splice(<span class="number">4</span>, <span class="number">1</span>, <span class="string">'May'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(months);      <span class="comment">// ["Jan", "Feb", "March", "April", "May"]</span></span><br></pre></td></tr></table></figure>

<h4 id="toLocaleString"><a href="#toLocaleString" class="headerlink" title="toLocaleString"></a>toLocaleString</h4><p>返回一个字符串表示数组中的元素。数组中的元素将使用各自的 toLocaleString 方法转成字符串，这些字符串将使用一个特定语言环境的字符串（例如一个逗号 “,”）隔开。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.toLocaleString([locales[,options]]);</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="string">'a'</span>, <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="string">'21 Dec 1997 14:12:00 UTC'</span>)];</span><br><span class="line"><span class="keyword">const</span> localeString = array1.toLocaleString(<span class="string">'en'</span>, &#123;<span class="attr">timeZone</span>: <span class="string">"UTC"</span>&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(localeString);  <span class="comment">// "1,a,12/21/1997, 2:12:00 PM",</span></span><br></pre></td></tr></table></figure>

<h4 id="unshift"><a href="#unshift" class="headerlink" title="unshift"></a>unshift</h4><p>将一个或多个元素添加到数组的开头，并返回该数组的新长度(该方法修改原有数组)。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr.unshift(element1, ..., elementN)</span></span><br><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"><span class="built_in">console</span>.log(array1.unshift(<span class="number">4</span>, <span class="number">5</span>));    <span class="comment">// 5</span></span><br><span class="line"><span class="built_in">console</span>.log(array1);                  <span class="comment">// [4, 5, 1, 2, 3]</span></span><br></pre></td></tr></table></figure>

<h4 id="values-1"><a href="#values-1" class="headerlink" title="values"></a>values</h4><p>返回一个新的 Array Iterator 对象，该对象包含数组每个索引的值</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>];</span><br><span class="line"><span class="keyword">const</span> iterator = array1.values();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">const</span> value <span class="keyword">of</span> iterator) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);   <span class="comment">// "a", "b", "c"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="iterator"><a href="#iterator" class="headerlink" title="@@iterator"></a>@@iterator</h4><p>和 Array.prototype.values() 属性的初始值是同一个函数对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// arr[Symbol.iterator]()</span></span><br><span class="line"><span class="keyword">var</span> arr = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>, <span class="string">'d'</span>, <span class="string">'e'</span>];</span><br><span class="line"><span class="keyword">var</span> eArr = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> letter <span class="keyword">of</span> eArr) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(letter);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> eArr = arr[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// a</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// b</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// c</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// d</span></span><br><span class="line"><span class="built_in">console</span>.log(eArr.next().value); <span class="comment">// e</span></span><br></pre></td></tr></table></figure>

<h3 id="ArrayBuffer"><a href="#ArrayBuffer" class="headerlink" title="ArrayBuffer"></a>ArrayBuffer</h3><p>用来表示通用的、固定长度的原始二进制数据缓冲区。</p>
<p>不能直接操作 ArrayBuffer 的内容，而是要通过类型数组对象或 DataView 对象来操作，它们会将缓冲区中的数据表示为特定的格式，并通过这些格式来读写缓冲区的内容。</p>
<h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><p>用于表示一个异步操作的最终完成 (或失败), 及其结果值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new Promise( function(resolve, reject) &#123;...&#125; /* executor */  );</span></span><br><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    resolve(<span class="string">'foo'</span>);</span><br><span class="line">  &#125;, <span class="number">300</span>);</span><br><span class="line">&#125;);</span><br><span class="line">promise1.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);   <span class="comment">// "foo"</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">console</span>.log(promise1);  <span class="comment">// [object Promise]</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> promiseCount = <span class="number">0</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">testPromise</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> thisPromiseCount = ++promiseCount;</span><br><span class="line">  <span class="keyword">let</span> log = <span class="built_in">document</span>.getElementById(<span class="string">'log'</span>);</span><br><span class="line">  log.insertAdjacentHTML(<span class="string">'beforeend'</span>, thisPromiseCount + <span class="string">') 开始 (&lt;small&gt;同步代码开始&lt;/small&gt;)&lt;br/&gt;'</span>);</span><br><span class="line">  <span class="comment">// 新构建一个 Promise 实例：使用Promise实现每过一段时间给计数器加一的过程，每段时间间隔为1~3秒不等</span></span><br><span class="line">  <span class="keyword">let</span> p1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(</span><br><span class="line">    <span class="comment">// resolver 函数在 Promise 成功或失败时都可能被调用</span></span><br><span class="line">    (resolve, reject) =&gt; &#123;</span><br><span class="line">      log.insertAdjacentHTML(<span class="string">'beforeend'</span>, thisPromiseCount + <span class="string">') Promise 开始 (&lt;small&gt;异步代码开始&lt;/small&gt;)&lt;br/&gt;'</span>);</span><br><span class="line">      <span class="comment">// 创建一个异步调用</span></span><br><span class="line">      <span class="built_in">window</span>.setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="comment">// 填充 Promise</span></span><br><span class="line">        resolve(thisPromiseCount);</span><br><span class="line">      &#125;, <span class="built_in">Math</span>.random() * <span class="number">2000</span> + <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">  <span class="comment">// Promise 不论成功或失败都会调用 then</span></span><br><span class="line">  <span class="comment">// catch() 只有当 promise 失败时才会调用</span></span><br><span class="line">  p1.then(</span><br><span class="line">    <span class="comment">// 记录填充值</span></span><br><span class="line">    <span class="function"><span class="keyword">function</span>(<span class="params">val</span>) </span>&#123;</span><br><span class="line">        log.insertAdjacentHTML(<span class="string">'beforeend'</span>, val + <span class="string">') Promise 已填充完毕 (&lt;small&gt;异步代码结束&lt;/small&gt;)&lt;br/&gt;'</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">  .catch(</span><br><span class="line">    <span class="comment">// 记录失败原因</span></span><br><span class="line">    (reason) =&gt; &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(<span class="string">'处理失败的 promise ('</span>+reason+<span class="string">')'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  );</span><br><span class="line">  log.insertAdjacentHTML(<span class="string">'beforeend'</span>, thisPromiseCount + <span class="string">') Promise made (&lt;small&gt;同步代码结束&lt;/small&gt;)&lt;br/&gt;'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h4 id="all"><a href="#all" class="headerlink" title="all"></a>all</h4><p>方法返回一个 Promise 实例，此实例在 iterable 参数内所有的 promise 都“完成（resolved）”或参数中不包含 promise 时回调完成（resolve）；如果参数中  promise 有一个失败（rejected），此实例回调失败（reject），失败原因的是第一个失败 promise 的结果。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="number">42</span>;</span><br><span class="line"><span class="keyword">const</span> promise3 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">  setTimeout(resolve, <span class="number">100</span>, <span class="string">'foo'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">Promise</span>.all([promise1, promise2, promise3]).then(<span class="function"><span class="keyword">function</span>(<span class="params">values</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(values);    <span class="comment">// [3, 42, "foo"]</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h4 id="allSettled"><a href="#allSettled" class="headerlink" title="allSettled"></a>allSettled</h4><p>返回一个在所有给定的promise已被决议或被拒绝后决议的promise，并带有一个对象数组，每个对象表示对应的promise结果。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="built_in">Promise</span>.resolve(<span class="number">3</span>);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> setTimeout(reject, <span class="number">100</span>, <span class="string">'foo'</span>));</span><br><span class="line"><span class="keyword">const</span> promises = [promise1, promise2];</span><br><span class="line"><span class="built_in">Promise</span>.allSettled(promises).then(<span class="function">(<span class="params">results</span>) =&gt;</span> results.forEach(<span class="function">(<span class="params">result</span>) =&gt;</span> <span class="built_in">console</span>.log(result.status)));</span><br><span class="line"><span class="comment">// "fulfilled"</span></span><br><span class="line"><span class="comment">// "rejected"</span></span><br></pre></td></tr></table></figure>

<h4 id="any"><a href="#any" class="headerlink" title="any"></a>any</h4><p>接收一个Promise可迭代对象，只要其中的一个 promise 完成，就返回那个已经有完成值的 promise 。如果可迭代对象中没有一个 promise 完成（即所有的 promises 都失败/拒绝），就返回一个拒绝的 promise，返回值还有待商榷：无非是拒绝原因数组或AggregateError类型的实例，它是 Error 的一个子类，用于把单一的错误集合在一起。本质上，这个方法和Promise.all()是相反的。</p>
<h4 id="race"><a href="#race" class="headerlink" title="race"></a>race</h4><p>返回一个 promise，一旦迭代器中的某个promise解决或拒绝，返回的 promise就会解决或拒绝。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    setTimeout(resolve, <span class="number">500</span>, <span class="string">'one'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">const</span> promise2 = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function"><span class="keyword">function</span>(<span class="params">resolve, reject</span>) </span>&#123;</span><br><span class="line">    setTimeout(resolve, <span class="number">100</span>, <span class="string">'two'</span>);</span><br><span class="line">&#125;);</span><br><span class="line"><span class="built_in">Promise</span>.race([promise1, promise2]).then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);</span><br><span class="line">  <span class="comment">// Both resolve, but promise2 is faster</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// "two"</span></span><br></pre></td></tr></table></figure>

<h4 id="reject"><a href="#reject" class="headerlink" title="reject"></a>reject</h4><p>返回一个带有拒绝原因的Promise对象。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">resolved</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'Resolved'</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">rejected</span>(<span class="params">result</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.error(result);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Promise</span>.reject(<span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'fail'</span>)).then(resolved, rejected);</span><br><span class="line"><span class="comment">// Error: fail</span></span><br></pre></td></tr></table></figure>

<h4 id="resolve"><a href="#resolve" class="headerlink" title="resolve"></a>resolve</h4><p>返回一个以给定值解析后的Promise 对象。如果该值为promise，返回这个promise；如果这个值是thenable（即带有”then” 方法)），返回的promise会“跟随”这个thenable的对象，采用它的最终状态；否则返回的promise将以此值完成。此函数将类promise对象的多层嵌套展平。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> promise1 = <span class="built_in">Promise</span>.resolve(<span class="number">123</span>);</span><br><span class="line">promise1.then(<span class="function"><span class="keyword">function</span>(<span class="params">value</span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(value);   <span class="comment">// 123</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<h3 id="Proxy"><a href="#Proxy" class="headerlink" title="Proxy"></a>Proxy</h3><p>用于定义基本操作的自定义行为（如属性查找，赋值，枚举，函数调用等）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> handler = &#123;</span><br><span class="line">    <span class="keyword">get</span>: function(target, name)&#123;</span><br><span class="line">        <span class="keyword">return</span> name <span class="keyword">in</span> target ? target[name] : <span class="number">37</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">let</span> p = <span class="keyword">new</span> <span class="built_in">Proxy</span>(&#123;&#125;, handler);</span><br><span class="line">p.a = <span class="number">1</span>;</span><br><span class="line">p.b = <span class="literal">undefined</span>;</span><br><span class="line"><span class="built_in">console</span>.log(p.a, p.b);          <span class="comment">// 1, undefined</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">'c'</span> <span class="keyword">in</span> p, p.c);     <span class="comment">// false, 37</span></span><br></pre></td></tr></table></figure>

<h3 id="RegExp"><a href="#RegExp" class="headerlink" title="RegExp"></a>RegExp</h3><p>创建了一个正则表达式对象，用于将文本与一个模式匹配。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> regex1 = <span class="regexp">/\w+/</span>;</span><br><span class="line"><span class="keyword">var</span> regex2 = <span class="keyword">new</span> <span class="built_in">RegExp</span>(<span class="string">'\\w+'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(regex1);              <span class="comment">// /\w+/</span></span><br><span class="line"><span class="built_in">console</span>.log(regex2);              <span class="comment">// /\w+/</span></span><br><span class="line"><span class="built_in">console</span>.log(regex1 === regex2);   <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> regex1 = <span class="built_in">RegExp</span>(<span class="string">'foo*'</span>,<span class="string">'g'</span>);</span><br><span class="line"><span class="keyword">var</span> str1 = <span class="string">'table football, foosball'</span>;</span><br><span class="line"><span class="keyword">let</span> array1;</span><br><span class="line"><span class="keyword">while</span> ((array1 = regex1.exec(str1)) !== <span class="literal">null</span>) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">`Found <span class="subst">$&#123;array1[<span class="number">0</span>]&#125;</span>. Next starts at <span class="subst">$&#123;regex1.lastIndex&#125;</span>.`</span>);</span><br><span class="line">  <span class="comment">// "Found foo. Next starts at 9."</span></span><br><span class="line">  <span class="comment">// "Found foo. Next starts at 19."</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> str = <span class="string">'hello world!'</span>;</span><br><span class="line"><span class="keyword">var</span> result = <span class="regexp">/^hello/</span>.test(str);</span><br><span class="line"><span class="built_in">console</span>.log(result);              <span class="comment">// true</span></span><br></pre></td></tr></table></figure>

<h3 id="Map"><a href="#Map" class="headerlink" title="Map"></a>Map</h3><p>保存键值对，并且能够记住键的原始插入顺序。任何值(对象或者原始值) 都可以作为一个键或一个值。</p>
<p>本质上是键值对的集合，类似集合，可以遍历，方法很多可以跟各种数据格式转换。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// new Map([iterable])</span></span><br><span class="line"><span class="keyword">var</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map1.set(<span class="string">'a'</span>, <span class="string">'alpha'</span>);</span><br><span class="line">map1.set(<span class="string">'b'</span>, <span class="string">'beta'</span>);</span><br><span class="line">map1.set(<span class="string">'g'</span>, <span class="string">'gamma'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map1.size);               <span class="comment">// 3</span></span><br><span class="line">map1.clear();</span><br><span class="line"><span class="built_in">console</span>.log(map1.size);               <span class="comment">// 0</span></span><br><span class="line">map1.set(<span class="string">'bar'</span>, <span class="string">'foo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map1.delete(<span class="string">'bar'</span>));      <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(map1.has(<span class="string">'bar'</span>));         <span class="comment">// false</span></span><br><span class="line">map1.set(<span class="string">'0'</span>, <span class="string">'foo'</span>);</span><br><span class="line">map1.set(<span class="number">1</span>, <span class="string">'bar'</span>);</span><br><span class="line"><span class="keyword">var</span> iterator1 = map1.entries();</span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);  <span class="comment">// ["0", "foo"]</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);  <span class="comment">// [1, "bar"]</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logMapElements</span>(<span class="params">value, key, map</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"m["</span> + key + <span class="string">"] = "</span> + value);</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Map</span>([[<span class="string">"foo"</span>, <span class="number">3</span>], [<span class="string">"bar"</span>, &#123;&#125;], [<span class="string">"baz"</span>, <span class="literal">undefined</span>]]).forEach(logMapElements);</span><br><span class="line"><span class="comment">// "m[foo] = 3"</span></span><br><span class="line"><span class="comment">// "m[bar] = [object Object]"</span></span><br><span class="line"><span class="comment">// "m[baz] = undefined"</span></span><br><span class="line">map1.set(<span class="string">'bar'</span>, <span class="string">'foo'</span>);</span><br><span class="line"><span class="built_in">console</span>.log(map1.get(<span class="string">'bar'</span>));         <span class="comment">// "foo"</span></span><br><span class="line"><span class="built_in">console</span>.log(map1.get(<span class="string">'baz'</span>));         <span class="comment">// undefined</span></span><br><span class="line">map1.set(<span class="string">'0'</span>, <span class="string">'foo'</span>);</span><br><span class="line">map1.set(<span class="number">1</span>, <span class="string">'bar'</span>);</span><br><span class="line"><span class="keyword">var</span> iterator1 = map1.keys();</span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);  <span class="comment">// "0"</span></span><br><span class="line"><span class="built_in">console</span>.log(iterator1.next().value);  <span class="comment">// 1</span></span><br><span class="line"><span class="keyword">var</span> myMap = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">myMap.set(<span class="string">"0"</span>, <span class="string">"foo"</span>);</span><br><span class="line">myMap.set(<span class="number">1</span>, <span class="string">"bar"</span>);</span><br><span class="line">myMap.set(&#123;&#125;, <span class="string">"baz"</span>);</span><br><span class="line"><span class="keyword">var</span> mapIter = myMap.values();</span><br><span class="line"><span class="built_in">console</span>.log(mapIter.next().value);    <span class="comment">// "foo"</span></span><br><span class="line"><span class="built_in">console</span>.log(mapIter.next().value);    <span class="comment">// "bar"</span></span><br><span class="line"><span class="built_in">console</span>.log(mapIter.next().value);    <span class="comment">// "baz"</span></span><br><span class="line"><span class="keyword">var</span> map1 = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line">map1.set(<span class="string">'0'</span>, <span class="string">'foo'</span>);</span><br><span class="line">map1.set(<span class="number">1</span>, <span class="string">'bar'</span>);</span><br><span class="line"><span class="keyword">var</span> iterator1 = map1[<span class="built_in">Symbol</span>.iterator]();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> item <span class="keyword">of</span> iterator1) &#123;</span><br><span class="line">  <span class="built_in">console</span>.log(item);    <span class="comment">// ["0", "foo"], [1, "bar"]</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h3><p>允许存储任何类型的唯一值，无论是原始值或者是对象引用。</p>
<p>成员唯一、无序且不重复。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> set1 = <span class="keyword">new</span> <span class="built_in">Set</span>([<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]);</span><br><span class="line"><span class="built_in">console</span>.log(set1.has(<span class="number">1</span>));   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(set1.has(<span class="number">5</span>));   <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(set1.has(<span class="number">6</span>));   <span class="comment">// false</span></span><br><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">mySet.add(<span class="number">1</span>);</span><br><span class="line">mySet.add(<span class="number">5</span>).add(<span class="string">"some text"</span>); <span class="comment">// 可以链式调用</span></span><br><span class="line"><span class="built_in">console</span>.log(mySet);         <span class="comment">// Set [1, 5, "some text"]</span></span><br><span class="line">mySet.add(<span class="number">5</span>).add(<span class="number">1</span>);</span><br><span class="line"><span class="built_in">console</span>.log(mySet);         <span class="comment">//Set [1, 5]  // 重复的值没有被添加进去</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">mySet.add(<span class="number">1</span>);</span><br><span class="line">mySet.add(<span class="string">"foo"</span>);</span><br><span class="line">mySet.size;       <span class="comment">// 2</span></span><br><span class="line">mySet.has(<span class="string">"foo"</span>); <span class="comment">// true</span></span><br><span class="line">mySet.clear();</span><br><span class="line">mySet.size;       <span class="comment">// 0</span></span><br><span class="line">mySet.has(<span class="string">"bar"</span>)  <span class="comment">// false</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">mySet.add(<span class="string">"foo"</span>);</span><br><span class="line">mySet.delete(<span class="string">"bar"</span>); <span class="comment">// 返回 false，不包含 "bar" 这个元素</span></span><br><span class="line">mySet.delete(<span class="string">"foo"</span>); <span class="comment">// 返回 true，删除成功</span></span><br><span class="line">mySet.has(<span class="string">"foo"</span>);    <span class="comment">// 返回 false，"foo" 已经成功删除</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">mySet.add(<span class="string">"foobar"</span>);</span><br><span class="line">mySet.add(<span class="number">1</span>);</span><br><span class="line">mySet.add(<span class="string">"baz"</span>);</span><br><span class="line"><span class="keyword">var</span> setIter = mySet.entries();</span><br><span class="line"><span class="built_in">console</span>.log(setIter.next().value); <span class="comment">// ["foobar", "foobar"]</span></span><br><span class="line"><span class="built_in">console</span>.log(setIter.next().value); <span class="comment">// [1, 1]</span></span><br><span class="line"><span class="built_in">console</span>.log(setIter.next().value); <span class="comment">// ["baz", "baz"]</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">logSetElements</span>(<span class="params">value1, value2, set</span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">"s["</span> + value1 + <span class="string">"] = "</span> + value2);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">new</span> <span class="built_in">Set</span>([<span class="string">"foo"</span>, <span class="string">"bar"</span>, <span class="literal">undefined</span>]).forEach(logSetElements);</span><br><span class="line"><span class="comment">// "s[foo] = foo"</span></span><br><span class="line"><span class="comment">// "s[bar] = bar"</span></span><br><span class="line"><span class="comment">// "s[undefined] = undefined"</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> mySet = <span class="keyword">new</span> <span class="built_in">Set</span>();</span><br><span class="line">mySet.add(<span class="string">"foo"</span>);</span><br><span class="line">mySet.add(<span class="string">"bar"</span>);</span><br><span class="line">mySet.add(<span class="string">"baz"</span>);</span><br><span class="line"><span class="keyword">var</span> setIter = mySet.values();</span><br><span class="line"><span class="built_in">console</span>.log(setIter.next().value); <span class="comment">// "foo"</span></span><br><span class="line"><span class="built_in">console</span>.log(setIter.next().value); <span class="comment">// "bar"</span></span><br><span class="line"><span class="built_in">console</span>.log(setIter.next().value); <span class="comment">// "baz"</span></span><br></pre></td></tr></table></figure>

<h3 id="WeakSet"><a href="#WeakSet" class="headerlink" title="WeakSet"></a>WeakSet</h3><p>允许将弱保持对象存储在一个集合中。</p>
<p>成员都是对象</p>
<p>成员都是弱引用，可以被垃圾回收机制回收，可以用来保存DOM节点，不容易造成内存泄漏。</p>
<ul>
<li>与Set相比，WeakSet 只能是对象的集合，而不能是任何类型的任意值。</li>
<li>WeakSet持弱引用：集合中对象的引用为弱引用。 如果没有其他的对WeakSet中对象的引用，那么这些对象会被当成垃圾回收掉。 这也意味着WeakSet中没有存储当前对象的列表。 正因为这样，WeakSet 是不可枚举的。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> ws = <span class="keyword">new</span> <span class="built_in">WeakSet</span>();</span><br><span class="line"><span class="keyword">var</span> foo = &#123;&#125;;</span><br><span class="line"><span class="keyword">var</span> bar = &#123;&#125;;</span><br><span class="line">ws.add(foo);</span><br><span class="line">ws.add(bar);</span><br><span class="line">ws.has(foo);    <span class="comment">// true</span></span><br><span class="line">ws.has(bar);    <span class="comment">// true</span></span><br><span class="line">ws.delete(foo); <span class="comment">// 从set中删除 foo 对象</span></span><br><span class="line">ws.has(foo);    <span class="comment">// false, foo 对象已经被删除了</span></span><br><span class="line">ws.has(bar);    <span class="comment">// true, bar 依然存在</span></span><br><span class="line">ws.clear();</span><br></pre></td></tr></table></figure>

<h3 id="WeakMap"><a href="#WeakMap" class="headerlink" title="WeakMap"></a>WeakMap</h3><p>是一组键/值对的集合，其中的键是弱引用的。其键必须是对象，而值可以是任意的。</p>
<p>只接受对象作为键名（null除外），不接受其他类型的值作为键名。</p>
<p>键名是弱引用，键值可以是任意的，键名所指向的对象可以被垃圾回收，此时键名是无效的。</p>
<p>WeakMap 的 key 只能是 Object 类型。 原始数据类型 是不能作为 key 的（比如 Symbol）。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> wm1 = <span class="keyword">new</span> <span class="built_in">WeakMap</span>(),</span><br><span class="line">      wm2 = <span class="keyword">new</span> <span class="built_in">WeakMap</span>(),</span><br><span class="line">      wm3 = <span class="keyword">new</span> <span class="built_in">WeakMap</span>();</span><br><span class="line"><span class="keyword">const</span> o1 = &#123;&#125;,</span><br><span class="line">      o2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;&#125;,</span><br><span class="line">      o3 = <span class="built_in">window</span>;</span><br><span class="line">wm1.set(o1, <span class="number">37</span>);</span><br><span class="line">wm1.set(o2, <span class="string">"azerty"</span>);</span><br><span class="line">wm2.set(o1, o2);      <span class="comment">// value可以是任意值,包括一个对象或一个函数</span></span><br><span class="line">wm2.set(o3, <span class="literal">undefined</span>);</span><br><span class="line">wm2.set(wm1, wm2);    <span class="comment">// 键和值可以是任意对象,甚至另外一个WeakMap对象</span></span><br><span class="line">wm1.get(o2); <span class="comment">// "azerty"</span></span><br><span class="line">wm2.get(o2); <span class="comment">// undefined,wm2中没有o2这个键</span></span><br><span class="line">wm2.get(o3); <span class="comment">// undefined,值就是undefined</span></span><br><span class="line">wm1.has(o2); <span class="comment">// true</span></span><br><span class="line">wm2.has(o2); <span class="comment">// false</span></span><br><span class="line">wm2.has(o3); <span class="comment">// true (即使值是undefined)</span></span><br><span class="line">wm3.set(o1, <span class="number">37</span>);</span><br><span class="line">wm3.get(o1);    <span class="comment">// 37</span></span><br><span class="line">wm1.has(o1);   <span class="comment">// true</span></span><br><span class="line">wm1.delete(o1);</span><br><span class="line">wm1.has(o1);   <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="isFinite"><a href="#isFinite" class="headerlink" title="isFinite"></a>isFinite</h3><p>判断被传入的参数值是否为一个有限数值。</p>
<p>Number.isFinite() 与全局的 isFinite() 函数不同，全局的 isFinite() 会先把检测值转换为 Number ，然后在检测。</p>
<p>Number.isFinite() 不会将检测值转换为 Number对象，如果检测值不是 Number 类型，则返回 false。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="number">1</span>));             <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="number">1.1</span>));           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="number">1e1</span>));           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="number">010</span>));           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="number">0x10</span>));          <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>([]));            <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>([<span class="number">1</span>]));           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>([<span class="string">'1'</span>]));         <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="literal">null</span>));          <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="literal">Infinity</span>));      <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="literal">NaN</span>));           <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="literal">undefined</span>));     <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(&#123;&#125;));            <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="string">'a'</span>));           <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="string">'2a'</span>));          <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isFinite</span>(<span class="string">'1'</span>));           <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">Number</span>.isFinite(<span class="string">'1'</span>));    <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h3 id="isNaN"><a href="#isNaN" class="headerlink" title="isNaN"></a>isNaN</h3><p>检查其参数是否是非数字值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="number">666</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"666"</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">"66b"</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">NaN</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">undefined</span>)); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>([<span class="number">26</span>,<span class="number">1</span>])); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">Infinity</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">true</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="string">'2e7'</span>)); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>([])); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>([<span class="number">26</span>])); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>([<span class="string">'26'</span>])); <span class="comment">// false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="built_in">isNaN</span>(<span class="literal">null</span>)); <span class="comment">// false</span></span><br></pre></td></tr></table></figure>

<h2 id="运算符"><a href="#运算符" class="headerlink" title="运算符"></a>运算符</h2><h3 id="一元运算符"><a href="#一元运算符" class="headerlink" title="一元运算符"></a>一元运算符</h3><h4 id="delete"><a href="#delete" class="headerlink" title="delete"></a>delete</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> o = <span class="keyword">new</span> <span class="built_in">Object</span>;</span><br><span class="line">o.name = <span class="string">"David"</span>;</span><br><span class="line">alert(o.name);	<span class="comment">//输出 "David"</span></span><br><span class="line"><span class="keyword">delete</span> o.name;</span><br><span class="line">alert(o.name);	<span class="comment">//输出 "undefined"</span></span><br></pre></td></tr></table></figure>

<h4 id="void"><a href="#void" class="headerlink" title="void"></a>void</h4><h4 id="前增量-i-前减量运算符-–i"><a href="#前增量-i-前减量运算符-–i" class="headerlink" title="前增量(++i)/前减量运算符(–i)"></a>前增量(++i)/前减量运算符(–i)</h4><h4 id="后增量-i-后减量运算符-i–"><a href="#后增量-i-后减量运算符-i–" class="headerlink" title="后增量(i++)/后减量运算符(i–)"></a>后增量(i++)/后减量运算符(i–)</h4><h4 id="一元加法和一元减法"><a href="#一元加法和一元减法" class="headerlink" title="一元加法和一元减法"></a>一元加法和一元减法</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sNum = <span class="string">"20"</span>;</span><br><span class="line">alert(<span class="keyword">typeof</span> sNum);	<span class="comment">//输出 "string"</span></span><br><span class="line"><span class="keyword">var</span> iNum = +sNum;</span><br><span class="line">alert(<span class="keyword">typeof</span> iNum);	<span class="comment">//输出 "number"</span></span><br></pre></td></tr></table></figure>

<h3 id="位运算符"><a href="#位运算符" class="headerlink" title="位运算符"></a>位运算符</h3><h4 id="NOT"><a href="#NOT" class="headerlink" title="NOT(~)"></a>NOT(~)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iNum1 = <span class="number">25</span>;		      <span class="comment">//25 等于 00000000000000000000000000011001</span></span><br><span class="line"><span class="keyword">var</span> iNum2 = ~iNum1;	    <span class="comment">//转换为 11111111111111111111111111100110</span></span><br><span class="line">alert(iNum2);		        <span class="comment">//输出 "-26"</span></span><br><span class="line"><span class="comment">// 等同于</span></span><br><span class="line"><span class="keyword">var</span> iNum1 = <span class="number">25</span>;</span><br><span class="line"><span class="keyword">var</span> iNum2 = -iNum1 <span class="number">-1</span>;</span><br><span class="line">alert(iNum2);	          <span class="comment">//输出 -26</span></span><br></pre></td></tr></table></figure>

<h4 id="AND-amp"><a href="#AND-amp" class="headerlink" title="AND(&amp;)"></a>AND(&amp;)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iResult = <span class="number">25</span> &amp; <span class="number">3</span>;</span><br><span class="line">alert(iResult);	        <span class="comment">//输出 "1"</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> 25 &#x3D; 0000 0000 0000 0000 0000 0000 0001 1001</span><br><span class="line">  3 &#x3D; 0000 0000 0000 0000 0000 0000 0000 0011</span><br><span class="line">---------------------------------------------</span><br><span class="line">AND &#x3D; 0000 0000 0000 0000 0000 0000 0000 0001</span><br></pre></td></tr></table></figure>

<h4 id="OR"><a href="#OR" class="headerlink" title="OR(|)"></a>OR(|)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iResult = <span class="number">25</span> | <span class="number">3</span>;</span><br><span class="line">alert(iResult);	        <span class="comment">//输出 "27"</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">25 &#x3D; 0000 0000 0000 0000 0000 0000 0001 1001</span><br><span class="line"> 3 &#x3D; 0000 0000 0000 0000 0000 0000 0000 0011</span><br><span class="line">--------------------------------------------</span><br><span class="line">OR &#x3D; 0000 0000 0000 0000 0000 0000 0001 1011</span><br></pre></td></tr></table></figure>

<h4 id="XOR"><a href="#XOR" class="headerlink" title="XOR(^)"></a>XOR(^)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iResult = <span class="number">25</span> ^ <span class="number">3</span>;</span><br><span class="line">alert(iResult);	        <span class="comment">//输出 "26"</span></span><br></pre></td></tr></table></figure>

<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"> 25 &#x3D; 0000 0000 0000 0000 0000 0000 0001 1001</span><br><span class="line">  3 &#x3D; 0000 0000 0000 0000 0000 0000 0000 0011</span><br><span class="line">---------------------------------------------</span><br><span class="line">XOR &#x3D; 0000 0000 0000 0000 0000 0000 0001 1010</span><br></pre></td></tr></table></figure>

<h4 id="左移运算-lt-lt"><a href="#左移运算-lt-lt" class="headerlink" title="左移运算(&lt;&lt;)"></a>左移运算(&lt;&lt;)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iOld = <span class="number">2</span>;		        <span class="comment">//等于二进制 10</span></span><br><span class="line"><span class="keyword">var</span> iNew = iOld &lt;&lt; <span class="number">5</span>;	  <span class="comment">//等于二进制 1000000 十进制 64</span></span><br></pre></td></tr></table></figure>

<h4 id="有符号右移运算-gt-gt"><a href="#有符号右移运算-gt-gt" class="headerlink" title="有符号右移运算(&gt;&gt;)"></a>有符号右移运算(&gt;&gt;)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iOld = <span class="number">64</span>;		      <span class="comment">//等于二进制 1000000</span></span><br><span class="line"><span class="keyword">var</span> iNew = iOld &gt;&gt; <span class="number">5</span>;	  <span class="comment">//等于二进制 10 十进制 2</span></span><br></pre></td></tr></table></figure>

<h4 id="无符号右移运算-gt-gt-gt"><a href="#无符号右移运算-gt-gt-gt" class="headerlink" title="无符号右移运算(&gt;&gt;&gt;)"></a>无符号右移运算(&gt;&gt;&gt;)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iOld = <span class="number">64</span>;		                    <span class="comment">//等于二进制 1000000</span></span><br><span class="line"><span class="keyword">var</span> iNew = iOld &gt;&gt;&gt; <span class="number">5</span>;	              <span class="comment">//等于二进制 10 十进制 2</span></span><br><span class="line"><span class="keyword">var</span> iUnsigned64 = <span class="number">-64</span> &gt;&gt;&gt; <span class="number">0</span>;          <span class="comment">//4294967232</span></span><br><span class="line"><span class="built_in">console</span>.log(iUnsigned64.toString(<span class="number">2</span>)); <span class="comment">//11111111111111111111111111000000</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">-1</span>&gt;&gt;&gt;<span class="number">31</span>);                 <span class="comment">//1</span></span><br></pre></td></tr></table></figure>

<h3 id="运算操作"><a href="#运算操作" class="headerlink" title="运算操作"></a>运算操作</h3><h4 id="Infinity"><a href="#Infinity" class="headerlink" title="Infinity"></a>Infinity</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>*<span class="number">0</span>);          <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>*<span class="literal">Infinity</span>);   <span class="comment">//Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>*-<span class="literal">Infinity</span>);  <span class="comment">//-Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span>/<span class="literal">Infinity</span>);          <span class="comment">//0</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">1</span>/<span class="number">0</span>);                 <span class="comment">//Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>/<span class="number">0</span>);          <span class="comment">//Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>/<span class="literal">Infinity</span>);   <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(-<span class="literal">Infinity</span>/<span class="number">0</span>);         <span class="comment">//-Infinity</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>%<span class="number">0</span>);          <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">Infinity</span>%<span class="literal">Infinity</span>);   <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">0</span>%<span class="number">0</span>);                 <span class="comment">//NaN</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> + <span class="string">"5"</span>);             <span class="comment">//"55"</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"Blue"</span> &lt; <span class="string">"alpha"</span>);    <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"25"</span> &lt; <span class="string">"3"</span>);          <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"25"</span> &lt; <span class="number">3</span>);            <span class="comment">//false</span></span><br><span class="line"><span class="comment">// 字母 "a" 不能转换成有意义的数字。</span></span><br><span class="line"><span class="comment">// 不过，如果对它调用 parseInt() 方法，返回的是 NaN。</span></span><br><span class="line"><span class="comment">// 根据规则，任何包含 NaN 的关系运算符都要返回 false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a"</span> &lt; <span class="number">3</span>);             <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"a"</span> &gt;= <span class="number">3</span>);            <span class="comment">//false</span></span><br><span class="line"><span class="comment">// 等号和非等号用于处理原始值，全等号和非全等号用于处理对象。</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> == <span class="literal">undefined</span>);   <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"NaN"</span> == <span class="literal">NaN</span>);        <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="number">5</span> == <span class="literal">NaN</span>);            <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> == <span class="literal">NaN</span>);          <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">NaN</span> != <span class="literal">NaN</span>);          <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> == <span class="number">0</span>);          <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> == <span class="number">1</span>);           <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> == <span class="number">2</span>);           <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">undefined</span> == <span class="number">0</span>);      <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">null</span> == <span class="number">0</span>);           <span class="comment">//false</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="string">"5"</span> == <span class="number">5</span>);            <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">true</span> || unknown);     <span class="comment">//true</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="literal">false</span> || unknown);    <span class="comment">//Uncaught ReferenceError: unknown is not defined</span></span><br><span class="line"><span class="built_in">console</span>.log();<span class="comment">//</span></span><br><span class="line"><span class="built_in">console</span>.log();<span class="comment">//</span></span><br><span class="line"><span class="built_in">console</span>.log();<span class="comment">//</span></span><br><span class="line"><span class="built_in">console</span>.log();<span class="comment">//</span></span><br><span class="line"><span class="built_in">console</span>.log();<span class="comment">//</span></span><br></pre></td></tr></table></figure>

<h4 id="优先级"><a href="#优先级" class="headerlink" title="优先级"></a>优先级</h4><table>
<thead>
<tr>
<th>值</th>
<th>运算符</th>
<th>描述</th>
<th>实例</th>
</tr>
</thead>
<tbody><tr>
<td>20</td>
<td>( )</td>
<td>表达式分组</td>
<td>(3 + 4)</td>
</tr>
<tr>
<td>19</td>
<td>.</td>
<td>成员</td>
<td>person.name</td>
</tr>
<tr>
<td>19</td>
<td>[]</td>
<td>成员</td>
<td>person[“name”]</td>
</tr>
<tr>
<td>19</td>
<td>()</td>
<td>函数调用</td>
<td>myFunction()</td>
</tr>
<tr>
<td>19</td>
<td>new</td>
<td>创建</td>
<td>new Date()</td>
</tr>
<tr>
<td>17</td>
<td>++</td>
<td>后缀递增</td>
<td>i++</td>
</tr>
<tr>
<td>17</td>
<td>–</td>
<td>后缀递减</td>
<td>i–</td>
</tr>
<tr>
<td>16</td>
<td>++</td>
<td>前缀递增</td>
<td>++i</td>
</tr>
<tr>
<td>16</td>
<td>–</td>
<td>前缀递减</td>
<td>–i</td>
</tr>
<tr>
<td>16</td>
<td>!</td>
<td>逻辑否</td>
<td>!(x==y)</td>
</tr>
<tr>
<td>16</td>
<td>typeof</td>
<td>类型</td>
<td>typeof x</td>
</tr>
<tr>
<td>15</td>
<td>**</td>
<td>求幂</td>
<td>(ES7)    10 ** 2</td>
</tr>
<tr>
<td>14</td>
<td>*</td>
<td>乘</td>
<td>10 * 5</td>
</tr>
<tr>
<td>14</td>
<td>/</td>
<td>除</td>
<td>10 / 5</td>
</tr>
<tr>
<td>14</td>
<td>%</td>
<td>模数除法</td>
<td>10 % 5</td>
</tr>
<tr>
<td>13</td>
<td>+</td>
<td>加</td>
<td>10 + 5</td>
</tr>
<tr>
<td>13</td>
<td>-</td>
<td>减</td>
<td>10 - 5</td>
</tr>
<tr>
<td>12</td>
<td>&lt;&lt;</td>
<td>左位移</td>
<td>x &lt;&lt; 2</td>
</tr>
<tr>
<td>12</td>
<td>&gt;&gt;</td>
<td>右位移</td>
<td>x &gt;&gt; 2</td>
</tr>
<tr>
<td>12</td>
<td>&gt;&gt;&gt;</td>
<td>右位移（无符号）</td>
<td>x &gt;&gt;&gt; 2</td>
</tr>
<tr>
<td>11</td>
<td>&lt;</td>
<td>小于</td>
<td>x &lt; y</td>
</tr>
<tr>
<td>11</td>
<td>&lt;=</td>
<td>小于或等于</td>
<td>x &lt;= y</td>
</tr>
<tr>
<td>11</td>
<td>&gt;</td>
<td>大于</td>
<td>x &gt; y</td>
</tr>
<tr>
<td>11</td>
<td>&gt;=</td>
<td>大于或等于</td>
<td>x &gt;= y</td>
</tr>
<tr>
<td>11</td>
<td>in</td>
<td>对象中的属性</td>
<td>“PI” in Math</td>
</tr>
<tr>
<td>11</td>
<td>instanceof</td>
<td>对象的实例</td>
<td>instanceof Array</td>
</tr>
<tr>
<td>10</td>
<td>==</td>
<td>相等</td>
<td>x == y</td>
</tr>
<tr>
<td>10</td>
<td>===</td>
<td>严格相等</td>
<td>x === y</td>
</tr>
<tr>
<td>10</td>
<td>!=</td>
<td>不相等</td>
<td>x != y</td>
</tr>
<tr>
<td>10</td>
<td>!==</td>
<td>严格不相等</td>
<td>x !== y</td>
</tr>
<tr>
<td>9</td>
<td>&amp;</td>
<td>按位与</td>
<td>x &amp; y</td>
</tr>
<tr>
<td>8</td>
<td>^</td>
<td>按位</td>
<td>XOR    x ^ y</td>
</tr>
<tr>
<td>7</td>
<td>&#124;</td>
<td>按位或</td>
<td>x</td>
</tr>
<tr>
<td>6</td>
<td>&amp;&amp;</td>
<td>逻辑与</td>
<td>x &amp;&amp; y</td>
</tr>
<tr>
<td>5</td>
<td>&#124;&#124;</td>
<td>逻辑否</td>
<td>x</td>
</tr>
<tr>
<td>4</td>
<td>? :</td>
<td>条件</td>
<td>? “Yes” : “No”</td>
</tr>
<tr>
<td>3</td>
<td>=</td>
<td>赋值</td>
<td>x = y</td>
</tr>
<tr>
<td>3</td>
<td>+=</td>
<td>赋值</td>
<td>x += y</td>
</tr>
<tr>
<td>3</td>
<td>-=</td>
<td>赋值</td>
<td>x -= y</td>
</tr>
<tr>
<td>3</td>
<td>*=</td>
<td>赋值</td>
<td>x *= y</td>
</tr>
<tr>
<td>3</td>
<td>%=</td>
<td>赋值</td>
<td>x %= y</td>
</tr>
<tr>
<td>3</td>
<td>&lt;&lt;=</td>
<td>赋值</td>
<td>x &lt;&lt;= y</td>
</tr>
<tr>
<td>3</td>
<td>&gt;&gt;=</td>
<td>赋值</td>
<td>x &gt;&gt;= y</td>
</tr>
<tr>
<td>3</td>
<td>&gt;&gt;&gt;=</td>
<td>赋值</td>
<td>x &gt;&gt;&gt;= y</td>
</tr>
<tr>
<td>3</td>
<td>&amp;=</td>
<td>赋值</td>
<td>x &amp;= y</td>
</tr>
<tr>
<td>3</td>
<td>^=</td>
<td>赋值</td>
<td>x ^= y</td>
</tr>
<tr>
<td>3</td>
<td>&#124;=</td>
<td>赋值</td>
<td>x</td>
</tr>
<tr>
<td>2</td>
<td>yield</td>
<td>暂停函数</td>
<td>yield x</td>
</tr>
<tr>
<td>1</td>
<td>,</td>
<td>逗号</td>
<td>7 , 8</td>
</tr>
</tbody></table>
<h2 id="语句-块"><a href="#语句-块" class="headerlink" title="语句/块"></a>语句/块</h2><h3 id="标签语句"><a href="#标签语句" class="headerlink" title="标签语句"></a>标签语句</h3><p>break 语句和 continue 语句都可以与有标签的语句联合使用，返回代码中的特定位置。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iNum = <span class="number">0</span>;</span><br><span class="line">outermost:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">    <span class="keyword">break</span> outermost;</span><br><span class="line">  &#125;</span><br><span class="line">  iNum++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(iNum);	<span class="comment">//输出 "55"</span></span><br></pre></td></tr></table></figure>

<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> iNum = <span class="number">0</span>;</span><br><span class="line">outermost:</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">var</span> i=<span class="number">0</span>; i&lt;<span class="number">10</span>; i++) &#123;</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> j=<span class="number">0</span>; j&lt;<span class="number">10</span>; j++) &#123;</span><br><span class="line">    <span class="keyword">if</span> (i == <span class="number">5</span> &amp;&amp; j == <span class="number">5</span>) &#123;</span><br><span class="line">    <span class="keyword">continue</span> outermost;</span><br><span class="line">  &#125;</span><br><span class="line">  iNum++;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">console</span>.log(iNum);	<span class="comment">//输出 "95"</span></span><br></pre></td></tr></table></figure>

<h3 id="with"><a href="#with" class="headerlink" title="with"></a>with</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> sMessage = <span class="string">"hello"</span>;</span><br><span class="line"><span class="keyword">with</span>(sMessage) &#123;</span><br><span class="line">  alert(toUpperCase());	<span class="comment">//输出 "HELLO"</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="闭包（closure）"><a href="#闭包（closure）" class="headerlink" title="闭包（closure）"></a>闭包（closure）</h3><p>指的是词法表示包括不被计算的变量的函数，也就是说，函数可以使用函数之外定义的变量。</p>
<h2 id="对象"><a href="#对象" class="headerlink" title="对象"></a>对象</h2><h3 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h3><ol>
<li>封装 - 把相关的信息（无论数据或方法）存储在对象中的能力</li>
<li>聚集 - 把一个对象存储在另一个对象内的能力</li>
<li>继承 - 由另一个类（或多个类）得来类的属性和方法的能力</li>
<li>多态 - 编写能以多种方法运行的函数或方法的能力</li>
</ol>
<h3 id="对象类型"><a href="#对象类型" class="headerlink" title="对象类型"></a>对象类型</h3><p>在 ECMAScript 中，所有对象并非同等创建的。</p>
<p>一般来说，可以创建并使用的对象有三种</p>
<h3 id="本地对象"><a href="#本地对象" class="headerlink" title="本地对象"></a>本地对象</h3><p><code>Object</code>、<code>Function</code>、<code>Array</code>、<code>String</code>、<code>Boolean</code>、<code>Number</code>、<code>Date</code>、<code>RegExp</code>、<code>Error</code>、<code>EvalError</code>、<code>RangeError</code>、<code>ReferenceError</code>、<code>SyntaxError</code>、<code>TypeError</code>、<code>URIError</code></p>
<h3 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h3><p>只定义了两个内置对象，即 Global 和 Math （它们也是本地对象，根据定义，每个内置对象都是本地对象）。</p>
<h3 id="宿主对象"><a href="#宿主对象" class="headerlink" title="宿主对象"></a>宿主对象</h3><p>所有非本地对象都是宿主对象（host object），即由 ECMAScript 实现的宿主环境提供的对象。</p>
<p>所有 BOM 和 DOM 对象都是宿主对象。</p>
<h2 id="原型"><a href="#原型" class="headerlink" title="原型"></a>原型</h2><h3 id="构造函数方式"><a href="#构造函数方式" class="headerlink" title="构造函数方式"></a>构造函数方式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">sColor,iDoors,iMpg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.color = sColor;</span><br><span class="line">  <span class="keyword">this</span>.doors = iDoors;</span><br><span class="line">  <span class="keyword">this</span>.mpg = iMpg;</span><br><span class="line">  <span class="keyword">this</span>.showColor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.color);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> oCar1 = <span class="keyword">new</span> Car(<span class="string">"red"</span>,<span class="number">4</span>,<span class="number">23</span>);</span><br><span class="line"><span class="keyword">var</span> oCar2 = <span class="keyword">new</span> Car(<span class="string">"blue"</span>,<span class="number">3</span>,<span class="number">25</span>);</span><br></pre></td></tr></table></figure>

<h3 id="原型方式"><a href="#原型方式" class="headerlink" title="原型方式"></a>原型方式</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">sColor,iDoors,iMpg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.color = sColor;</span><br><span class="line">  <span class="keyword">this</span>.doors = iDoors;</span><br><span class="line">  <span class="keyword">this</span>.mpg = iMpg;</span><br><span class="line">  <span class="keyword">this</span>.drivers = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"Mike"</span>,<span class="string">"John"</span>);</span><br><span class="line">&#125;</span><br><span class="line">Car.prototype.showColor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  alert(<span class="keyword">this</span>.color);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> oCar1 = <span class="keyword">new</span> Car(<span class="string">"red"</span>,<span class="number">4</span>,<span class="number">23</span>);</span><br><span class="line"><span class="keyword">var</span> oCar2 = <span class="keyword">new</span> Car(<span class="string">"blue"</span>,<span class="number">3</span>,<span class="number">25</span>);</span><br></pre></td></tr></table></figure>

<h3 id="动态原型方法"><a href="#动态原型方法" class="headerlink" title="动态原型方法"></a>动态原型方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Car</span>(<span class="params">sColor,iDoors,iMpg</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.color = sColor;</span><br><span class="line">  <span class="keyword">this</span>.doors = iDoors;</span><br><span class="line">  <span class="keyword">this</span>.mpg = iMpg;</span><br><span class="line">  <span class="keyword">this</span>.drivers = <span class="keyword">new</span> <span class="built_in">Array</span>(<span class="string">"Mike"</span>,<span class="string">"John"</span>);</span><br><span class="line">  <span class="keyword">if</span> (<span class="keyword">typeof</span> Car._initialized == <span class="string">"undefined"</span>) &#123;</span><br><span class="line">    Car.prototype.showColor = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      alert(<span class="keyword">this</span>.color);</span><br><span class="line">    &#125;;</span><br><span class="line">    Car._initialized = <span class="literal">true</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="对象冒充"><a href="#对象冒充" class="headerlink" title="对象冒充"></a>对象冒充</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ClassA</span>(<span class="params">sColor</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.color = sColor;</span><br><span class="line">  <span class="keyword">this</span>.sayColor = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    alert(<span class="keyword">this</span>.color);</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ClassB</span>(<span class="params">sColor</span>) </span>&#123;</span><br><span class="line">  ClassA.call(<span class="keyword">this</span>, sColor);</span><br><span class="line">  <span class="comment">// 等同于</span></span><br><span class="line">  <span class="comment">// this.newMethod = ClassA;</span></span><br><span class="line">  <span class="comment">// this.newMethod(sColor);</span></span><br><span class="line">  <span class="comment">// delete this.newMethod;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="原型链"><a href="#原型链" class="headerlink" title="原型链"></a>原型链</h3><p>原型链的弊端是不支持多重继承。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ClassA</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">ClassA.prototype.color = <span class="string">"blue"</span>;</span><br><span class="line">ClassA.prototype.sayColor = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.color);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">ClassB</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">&#125;</span><br><span class="line">ClassB.prototype = <span class="keyword">new</span> ClassA();</span><br><span class="line">ClassB.prototype.name = <span class="string">""</span>;</span><br><span class="line">ClassB.prototype.sayName = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">var</span> objA = <span class="keyword">new</span> ClassA();</span><br><span class="line"><span class="keyword">var</span> objB = <span class="keyword">new</span> ClassB();</span><br><span class="line">objA.color = <span class="string">"blue"</span>;</span><br><span class="line">objB.color = <span class="string">"red"</span>;</span><br><span class="line">objB.name = <span class="string">"John"</span>;</span><br><span class="line">objA.sayColor(); <span class="comment">// blue</span></span><br><span class="line">objB.sayColor(); <span class="comment">// red</span></span><br><span class="line">objB.sayName(); <span class="comment">// John</span></span><br><span class="line"><span class="built_in">console</span>.log(objB <span class="keyword">instanceof</span> ClassA);	<span class="comment">//输出 "true"</span></span><br><span class="line"><span class="built_in">console</span>.log(objB <span class="keyword">instanceof</span> ClassB);	<span class="comment">//输出 "true"</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fooA</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fooB</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fooC</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fooD</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">fooE</span>(<span class="params"></span>)</span>&#123;&#125;</span><br><span class="line">fooA.prototype.a = <span class="number">1</span>;</span><br><span class="line">fooB.prototype = <span class="built_in">Object</span>.create(fooA.prototype);</span><br><span class="line">fooB.prototype.b = <span class="number">2</span>;</span><br><span class="line">fooC.prototype = <span class="built_in">Object</span>.create(fooB.prototype);</span><br><span class="line">fooC.prototype.c = <span class="number">3</span>;</span><br><span class="line">fooD.prototype = <span class="built_in">Object</span>.create(fooC.prototype);</span><br><span class="line">fooD.prototype.d = <span class="number">4</span>;</span><br><span class="line">fooE.prototype = <span class="built_in">Object</span>.create(fooD.prototype);</span><br><span class="line">fooE.prototype.e = <span class="number">5</span>;</span><br><span class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> fooE();</span><br></pre></td></tr></table></figure>

<h3 id="proto-不推荐"><a href="#proto-不推荐" class="headerlink" title="__proto__(不推荐)"></a><code>__proto__</code>(不推荐)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  a: <span class="number">1</span>,</span><br><span class="line">  b: &#123;</span><br><span class="line">    c: <span class="number">2</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fooA = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.__proto__ = obj;</span><br><span class="line">  <span class="keyword">this</span>.id = <span class="number">123</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> fooB = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>.name = <span class="string">'ab'</span>;</span><br><span class="line">&#125;</span><br><span class="line">fooB.prototype = <span class="keyword">new</span> fooA();</span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> fooA());</span><br><span class="line"><span class="comment">// &#123; id: 123, __proto__: &#123; a: 1, b: &#123;c: 2&#125;, __proto__: Object.prototype &#125; &#125;</span></span><br><span class="line"><span class="built_in">console</span>.log(<span class="keyword">new</span> fooB());</span><br><span class="line"><span class="comment">// &#123; name: 'ab', __proto__: &#123; id: 123, __proto__: &#123; a:1, b:&#123;c:2&#125;, __proto__: Object.prototype &#125; &#125; &#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="async、await"><a href="#async、await" class="headerlink" title="async、await"></a>async、await</h2><h3 id="Async"><a href="#Async" class="headerlink" title="Async"></a>Async</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>这个函数总是返回一个<code>promise</code>，如果代码中有<code>return &lt;非promise&gt;</code>语句，JavaScript会自动把返回的这个value值包装成<code>promise</code>的<code>resolved</code>值。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line">f().then(alert) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<p>也可以显式的返回一个<code>promise</code>，这个将会是同样的结果：</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="built_in">Promise</span>.resolve(<span class="number">1</span>)</span><br><span class="line">&#125;</span><br><span class="line">f().then(alert) <span class="comment">// 1</span></span><br></pre></td></tr></table></figure>

<h3 id="Await"><a href="#Await" class="headerlink" title="Await"></a>Await</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 只能在async函数内部使用</span></span><br><span class="line"><span class="keyword">let</span> value = <span class="keyword">await</span> promise</span><br></pre></td></tr></table></figure>

<p><code>await</code>可以让JavaScript进行等待，直到一个<code>promise</code>执行并返回它的结果，JavaScript才会继续往下执行。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">f</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> promise = <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> resolve(<span class="string">'done!'</span>), <span class="number">1000</span>)</span><br><span class="line">  &#125;)</span><br><span class="line">  <span class="keyword">let</span> result = <span class="keyword">await</span> promise;</span><br><span class="line">  <span class="comment">// 直到promise返回一个resolve值（*）</span></span><br><span class="line">  alert(result);</span><br><span class="line">  <span class="comment">// 'done!' </span></span><br><span class="line">&#125;</span><br><span class="line">f()</span><br></pre></td></tr></table></figure>

<p><code>await</code>字面上使得JavaScript等待，直到<code>promise</code>处理完成，这并不会花费任何的cpu资源，因为引擎能够同时做其他工作：执行其他脚本，处理事件等等。</p>
<p>不能在常规函数里使用<code>await</code></p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> <span class="title">showAvatar</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// read our JSON</span></span><br><span class="line">    <span class="keyword">let</span> response = <span class="keyword">await</span> fetch(<span class="string">'/article/promise-chaining/user.json'</span>);</span><br><span class="line">    <span class="keyword">let</span> user = <span class="keyword">await</span> response.json();</span><br><span class="line">    <span class="comment">// read github user</span></span><br><span class="line">    <span class="keyword">let</span> githubResponse = <span class="keyword">await</span> fetch(<span class="string">`https://api.github.com/users/<span class="subst">$&#123;user.name&#125;</span>`</span>);</span><br><span class="line">    <span class="keyword">let</span> githubUser = <span class="keyword">await</span> githubResponse.json();</span><br><span class="line">    <span class="comment">// 展示头像</span></span><br><span class="line">    <span class="keyword">let</span> img = <span class="built_in">document</span>.createElement(<span class="string">'img'</span>);</span><br><span class="line">    img.src = githubUser.avatar_url;</span><br><span class="line">    img.className = <span class="string">'promise-avatar-example'</span>;</span><br><span class="line">    documenmt.body.append(img)</span><br><span class="line">    <span class="comment">// 等待3s</span></span><br><span class="line">    <span class="keyword">await</span> <span class="keyword">new</span> <span class="built_in">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">        setTimeout(resolve, <span class="number">3000</span>)</span><br><span class="line">    &#125;);</span><br><span class="line">    img.remove();</span><br><span class="line">    <span class="keyword">return</span> githubUser;</span><br><span class="line">&#125;</span><br><span class="line">showAvatar();</span><br></pre></td></tr></table></figure>

<h1 id="安全"><a href="#安全" class="headerlink" title="安全"></a>安全</h1><h2 id="CORS"><a href="#CORS" class="headerlink" title="CORS"></a>CORS</h2><p>跨域资源共享(CORS) 是一种机制，它使用额外的 HTTP 头来告诉浏览器，让运行在一个 origin (domain) 上的Web应用被准许访问来自不同源服务器上的指定的资源。</p>
<p>当一个资源从与该资源本身所在的服务器不同的域、协议或端口请求一个资源时，资源会发起一个跨域 HTTP 请求。</p>
<ul>
<li>前文提到的由 XMLHttpRequest 或 Fetch 发起的跨域 HTTP 请求。</li>
<li>Web 字体 (CSS 中通过 @font-face 使用跨域字体资源), 因此，网站就可以发布 TrueType 字体资源，并只允许已授权网站进行跨站调用。</li>
<li>WebGL 贴图</li>
<li>使用 drawImage 将 Images/video 画面绘制到 canvas</li>
</ul>
<p>新增了一组 HTTP 首部字段，允许服务器声明哪些源站通过浏览器有权限访问哪些资源。</p>
<p>对那些可能对服务器数据产生副作用的 HTTP 请求方法（特别是 GET 以外的 HTTP 请求，或者搭配某些 MIME 类型的 POST 请求），浏览器必须首先使用 OPTIONS 方法发起一个预检请求（preflight request），从而获知服务端是否允许该跨域请求。</p>
<p>在预检请求的返回中，服务器端也可以通知客户端，是否需要携带身份凭证（包括 Cookies 和 HTTP 认证相关数据）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Credentials: true</span><br><span class="line">Access-Control-Allow-Headers: content-type</span><br><span class="line">Access-Control-Allow-Origin: http:&#x2F;&#x2F;xxx.xxx</span><br><span class="line"># Access-Control-Allow-Origin: *</span><br><span class="line">Access-Control-Max-Age: 200</span><br></pre></td></tr></table></figure>

<h3 id="简单请求"><a href="#简单请求" class="headerlink" title="简单请求"></a>简单请求</h3><p>请求不会触发 CORS 预检请求，这样的请求为“简单请求”</p>
<p>满足所有下述条件：</p>
<ul>
<li><p>使用下列方法之一：</p>
<ul>
<li>GET</li>
<li>HEAD</li>
<li>POST</li>
</ul>
</li>
<li><p>Fetch 规范定义了对 CORS 安全的首部字段集合，不得人为设置该集合之外的其他首部字段：</p>
<ul>
<li>Accept</li>
<li>Accept-Language</li>
<li>Content-Language</li>
<li>Content-Type （需要注意额外的限制）</li>
<li>DPR</li>
<li>Downlink</li>
<li>Save-Data</li>
<li>Viewport-Width</li>
<li>Width</li>
</ul>
</li>
<li><p>Content-Type 的值仅限于下列三者之一：</p>
<ul>
<li>text/plain</li>
<li>multipart/form-data</li>
<li>application/x-www-form-urlencoded</li>
</ul>
</li>
</ul>
<h3 id="预检请求"><a href="#预检请求" class="headerlink" title="预检请求"></a>预检请求</h3><p>必须首先使用 OPTIONS 方法发起一个预检请求到服务器，以获知服务器是否允许该实际请求。</p>
<h3 id="附带身份凭证的请求"><a href="#附带身份凭证的请求" class="headerlink" title="附带身份凭证的请求"></a>附带身份凭证的请求</h3><p>Fetch 与 CORS 的一个的特性是，可以基于 HTTP cookies 和 HTTP 认证信息发送身份凭证。</p>
<p>一般而言，对于跨域 XMLHttpRequest 或 Fetch 请求，浏览器不会发送身份凭证信息。</p>
<p>如果要发送凭证信息，需要设置 XMLHttpRequest 的某个特殊标志位。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 因为这是一个简单 GET 请求，所以浏览器不会对其发起“预检请求”。</span></span><br><span class="line"><span class="keyword">var</span> invocation = <span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line"><span class="keyword">var</span> url = <span class="string">'http://bar.other/resources/credentialed-content/'</span>;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">callOtherDomain</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">if</span>(invocation) &#123;</span><br><span class="line">    invocation.open(<span class="string">'GET'</span>, url, <span class="literal">true</span>);</span><br><span class="line">    invocation.withCredentials = <span class="literal">true</span>;</span><br><span class="line">    invocation.onreadystatechange = handler;</span><br><span class="line">    invocation.send(); </span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>如果服务器端的响应中未携带 Access-Control-Allow-Credentials: true ，浏览器将不会把响应内容返回给请求的发送者。</p>
<p>对于附带身份凭证的请求，服务器不得设置 Access-Control-Allow-Origin 的值为“*”。</p>
<p>将 Access-Control-Allow-Origin 的值设置为 <a href="http://foo.example，则请求将成功执行。" target="_blank" rel="noopener">http://foo.example，则请求将成功执行。</a></p>
<h3 id="HTTP-响应首部字段"><a href="#HTTP-响应首部字段" class="headerlink" title="HTTP 响应首部字段"></a>HTTP 响应首部字段</h3><h4 id="Access-Control-Allow-Origin"><a href="#Access-Control-Allow-Origin" class="headerlink" title="Access-Control-Allow-Origin"></a>Access-Control-Allow-Origin</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Origin: &lt;origin&gt; | *</span><br></pre></td></tr></table></figure>

<p>指定了允许访问该资源的外域 URI。对于不需要携带身份凭证的请求，服务器可以指定该字段的值为通配符，表示允许来自所有域的请求。</p>
<p>服务端指定了具体的域名而非“*”，那么响应首部中的 Vary 字段的值必须包含 Origin。这将告诉客户端：服务器对不同的源站返回不同的内容。</p>
<h4 id="Access-Control-Expose-Headers"><a href="#Access-Control-Expose-Headers" class="headerlink" title="Access-Control-Expose-Headers"></a>Access-Control-Expose-Headers</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Expose-Headers: X-My-Custom-Header, X-Another-Custom-Header</span><br><span class="line"># 默认情况下，只有六种 simple response headers （简单响应首部）可以暴露给外部：</span><br><span class="line"># Cache-Control</span><br><span class="line"># Content-Language</span><br><span class="line"># Content-Type</span><br><span class="line"># Expires</span><br><span class="line"># Last-Modified</span><br><span class="line"># Pragma</span><br><span class="line"># 如果想要让客户端可以访问到其他的首部信息，可以将它们在 Access-Control-Expose-Headers 里面列出来。</span><br></pre></td></tr></table></figure>

<p>让服务器把允许浏览器访问的头放入白名单，这样浏览器就能够通过getResponseHeader访问X-My-Custom-Header和 X-Another-Custom-Header 响应头了。</p>
<h4 id="Access-Control-Max-Age"><a href="#Access-Control-Max-Age" class="headerlink" title="Access-Control-Max-Age"></a>Access-Control-Max-Age</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Max-Age: &lt;delta-seconds&gt;</span><br></pre></td></tr></table></figure>

<p>指定了preflight请求的结果能够被缓存多久，delta-seconds 参数表示preflight请求的结果在多少秒内有效。</p>
<p>上限是24小时 （即86400秒），而在Chromium 中则是10分钟（即600秒）。Chromium 同时规定了一个默认值 5 秒。<br>如果值为 -1，则表示禁用缓存，每一次请求都需要提供预检请求，即用OPTIONS请求进行检测。</p>
<h4 id="Access-Control-Allow-Credentials"><a href="#Access-Control-Allow-Credentials" class="headerlink" title="Access-Control-Allow-Credentials"></a>Access-Control-Allow-Credentials</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Credentials: true</span><br></pre></td></tr></table></figure>

<p>指定了当浏览器的credentials设置为true时是否允许浏览器读取response的内容。</p>
<p>当用在对preflight预检测请求的响应中时，它指定了实际的请求是否可以使用credentials。</p>
<p>简单 GET 请求不会被预检；如果对此类请求的响应中不包含该字段，这个响应将被忽略掉，并且浏览器也不会将相应内容返回给网页。</p>
<p>Credentials可以是 cookies, authorization headers 或 TLS client certificates。</p>
<h4 id="Access-Control-Allow-Methods"><a href="#Access-Control-Allow-Methods" class="headerlink" title="Access-Control-Allow-Methods"></a>Access-Control-Allow-Methods</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Methods: &lt;method&gt;[, &lt;method&gt;]*</span><br><span class="line"># 用逗号隔开的允许使用的 HTTP request methods 列表。</span><br><span class="line"># Access-Control-Allow-Methods: GET, HEAD, POST, PUT, DELETE, CONNECT, OPTIONS, TRACE, PATCH</span><br></pre></td></tr></table></figure>

<p>用于预检请求的响应。其指明了实际请求所允许使用的 HTTP 方法。</p>
<h4 id="Access-Control-Allow-Headers"><a href="#Access-Control-Allow-Headers" class="headerlink" title="Access-Control-Allow-Headers"></a>Access-Control-Allow-Headers</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Access-Control-Allow-Headers: &lt;field-name&gt;[, &lt;field-name&gt;]*</span><br></pre></td></tr></table></figure>

<p>用于预检请求的响应。其指明了实际请求中允许携带的首部字段。</p>
<p>以下这些特定的首部是一直允许的：Accept, Accept-Language, Content-Language, Content-Type （但只在其值属于 MIME 类型 application/x-www-form-urlencoded, multipart/form-data 或 text/plain中的一种时）。这些被称作simple headers，无需特意声明它们。</p>
<h2 id="CSP"><a href="#CSP" class="headerlink" title="CSP"></a>CSP</h2><p>HTTP 响应头Content-Security-Policy允许站点管理者控制用户代理能够为指定的页面加载哪些资源。</p>
<p>除了少数例外情况，设置的政策主要涉及指定服务器的源和脚本结束点。</p>
<p>这将帮助防止跨站脚本攻击（Cross-Site Script）（XSS）。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy: &lt;policy-directive&gt;; &lt;policy-directive&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>child-src</code>：为 web workers 和其他内嵌浏览器内容（例如用<code>&lt;frame&gt;</code>和<code>&lt;iframe&gt;</code>加载到页面的内容）定义合法的源地址。</li>
</ul>
<p>如果开发者希望管控内嵌浏览器内容和 web worker 应分别使用frame-src和worker-src 指令，来相对的取代 child-src。</p>
<ul>
<li><code>connect-src</code>：限制能通过脚本接口加载的URL。</li>
<li><code>default-src</code>：为其他取指令提供备用服务fetch directives。</li>
<li><code>font-src</code>：设置允许通过@font-face加载的字体源地址。</li>
<li><code>frame-src</code>： 设置允许通过类似<code>&lt;frame&gt;</code>和<code>&lt;iframe&gt;</code>标签加载的内嵌内容的源地址。</li>
<li><code>img-src</code>: 限制图片和图标的源地址</li>
<li><code>manifest-src</code> ： 限制应用声明文件的源地址。</li>
<li><code>media-src</code>：限制通过<code>&lt;audio&gt;</code>、<code>&lt;video&gt;</code>或<code>&lt;track&gt;</code>标签加载的媒体文件的源地址。</li>
<li><code>object-src</code>：限制<code>&lt;object&gt;</code>、<code>&lt;embed&gt;</code>、<code>&lt;applet&gt;</code>标签的源地址。</li>
</ul>
<p>被object-src控制的元素可能碰巧被当作遗留HTML元素，导致不支持新标准中的功能（例如<code>&lt;iframe&gt;</code>中的安全属性sandbox和allow）。</p>
<p>因此建议限制该指令的使用（比如，如果可行，将<code>object-src</code>显式设置为<code>none</code>）。</p>
<ul>
<li><code>prefetch-src</code>: 指定预加载或预渲染的允许源地址。</li>
<li><code>script-src</code>: 限制JavaScript的源地址。</li>
<li><code>style-src</code>: 限制层叠样式表文件源。</li>
<li><code>webrtc-src</code>: 指定WebRTC连接的合法源地址。</li>
<li><code>worker-src</code>: 限制Worker、SharedWorker或者ServiceWorker脚本源。</li>
</ul>
<p>文档指令管理文档属性或者worker环境应用的策略。</p>
<ul>
<li><code>base-uri</code>: 限制在DOM中<code>&lt;base&gt;</code>元素可以使用的URL。</li>
<li><code>plugin-types</code>: 通过限制可以加载的资源类型来限制哪些插件可以被嵌入到文档中。</li>
<li><code>sandbox</code>: 类似<code>&lt;iframe&gt;</code> sandbox属性，为请求的资源启用沙盒。</li>
<li><code>disown-opener</code>:  确保资源在导航的时候能够脱离父页面。（windown.opener 对象）</li>
</ul>
<p>导航指令管理用户能打开的链接或者表单可提交的链接</p>
<ul>
<li><code>form-action</code>: 限制能被用来作为给定上下文的表单提交的目标 URL（说白了，就是限制 form 的 action 属性的链接地址）</li>
<li><code>frame-ancestors</code>: 指定可能嵌入页面的有效父项<code>&lt;frame&gt;</code>, <code>&lt;iframe&gt;</code>, <code>&lt;object&gt;</code>, <code>&lt;embed&gt;</code>, or <code>&lt;applet&gt;</code></li>
<li><code>navigation-to</code>: 限制文档可以通过以下任何方式访问URL (a, form, window.location, window.open, etc.)</li>
</ul>
<p>报告指令控制 CSP 违规的报告过程. 更多请看 Content-Security-Policy-Report-Only 报头.</p>
<p>report-uri 当出现可能违反CSP的操作时，让客户端提交报告。这些违规报告会以JSON文件的格式通过POST请求发送到指定的URI<br>report-to Fires a SecurityPolicyViolationEvent.</p>
<p>其他指令 | Other directives</p>
<ul>
<li><code>block-all-mixed-content</code>: 当使用HTTPS加载页面时阻止使用HTTP加载任何资源。</li>
<li><code>referrer</code>: 用来指定会离开当前页面的跳转链接的 referer header 信息。应该使用 Referrer-Policy 替代。</li>
<li><code>require-sri-for</code>: 需要使用 SRI 作用于页面上的脚本或样式。</li>
<li><code>upgrade-insecure-requests</code>: 让浏览器把一个网站所有的不安全 URL（通过 HTTP 访问）当做已经被安全的 URL 链接（通过 HTTPS 访问）替代。这个指令是为了哪些有量大不安全的传统 URL 需要被重写时候准备的。</li>
</ul>
<h3 id="多内容安全策略"><a href="#多内容安全策略" class="headerlink" title="多内容安全策略"></a>多内容安全策略</h3><p>CSP 允许在一个资源中指定多个策略, 包括通过 Content-Security-Policy 头, 以及 Content-Security-Policy-Report-Only 头，和 <meta> 组件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy: default-src &#39;self&#39; http:&#x2F;&#x2F;example.com; connect-src &#39;none&#39;;</span><br><span class="line">Content-Security-Policy: connect-src http:&#x2F;&#x2F;example.com&#x2F;; script-src http:&#x2F;&#x2F;example.com&#x2F;</span><br></pre></td></tr></table></figure>

<p>尽管第二个策略允许连接, 第一个策略仍然包括了 connect-src ‘none’。</p>
<p>添加了附加的策略后，只会让资源保护的能力更强，也就是说不会有接口可以被允许访问，等同于最严格的策略，connect-src ‘none’ 强制开启。</p>
<h3 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h3><p>禁用不安全的内联/动态执行, 只允许通过 https加载这些资源 (images, fonts, scripts, etc.)</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// header</span></span><br><span class="line">Content-Security-Policy: <span class="keyword">default</span>-src https:</span><br><span class="line"></span><br><span class="line"><span class="comment">// meta tag</span></span><br><span class="line">&lt;meta http-equiv=<span class="string">"Content-Security-Policy"</span> content=<span class="string">"default-src https:"</span>&gt;</span><br></pre></td></tr></table></figure>

<p>已经存在的一个网站，用了太多内联代码修复问题，而且想确保资源只从 https 加载，并且禁止插件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy: default-src https: &#39;unsafe-eval&#39; &#39;unsafe-inline&#39;; object-src &#39;none&#39;</span><br></pre></td></tr></table></figure>

<p>还没有开始实施上面的策略；相反，只是开始上报可能会发生违反安全策略的行为：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Security-Policy-Report-Only: default-src https:; report-uri &#x2F;csp-violation-report-endpoint&#x2F;</span><br></pre></td></tr></table></figure>

<h2 id="XSS"><a href="#XSS" class="headerlink" title="XSS"></a>XSS</h2><p>跨站脚本攻击Cross-site scripting (XSS)是一种安全漏洞，攻击者可以利用这种漏洞在网站上注入恶意的客户端代码。当被攻击者登陆网站时就会自动运行这些恶意代码，从而，攻击者可以突破网站的访问权限，冒充受害者。</p>
<p>如果Web应用程序没有部署足够的安全验证，那么，这些攻击很容易成功。浏览器无法探测到这些恶意脚本是不可信的，所以，这些脚本可以任意读取cookie，session tokens，或者其它敏感的网站信息，或者让恶意脚本重写HTML内容。</p>
<p>在以下2种情况下，容易发生XSS攻击：1）数据从一个不可靠的链接进入到一个web应用程序。2）没有过滤掉恶意代码的动态内容被发送给web用户。</p>
<p>恶意内容一般包括 JavaScript，但是，有时候也会包括HTML，FLASH。XSS攻击的形式千差万别，但是，它们的共同点为：将一些隐私数据像cookie、session发送给攻击者，将受害者重定向到一个由攻击者控制的网站，在受害者的机器上进行一些恶意操作。</p>
<p>XSS攻击可以分为3类：存储型（持久型）、反射型（非持久型）、基于DOM。</p>
<h1 id="技巧-解答"><a href="#技巧-解答" class="headerlink" title="技巧/解答"></a>技巧/解答</h1><h2 id="call-apply-1"><a href="#call-apply-1" class="headerlink" title="call/apply"></a>call/apply</h2><h3 id="bind-1"><a href="#bind-1" class="headerlink" title="bind"></a>bind</h3><p>不使用 call/apply 实现 bind</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.bind2) (<span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">  <span class="keyword">var</span> slice = <span class="built_in">Array</span>.prototype.slice;</span><br><span class="line">  <span class="built_in">Function</span>.prototype.bind2 = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> thatFunc = <span class="keyword">this</span>, thatArg = <span class="built_in">arguments</span>[<span class="number">0</span>];</span><br><span class="line">    <span class="keyword">var</span> args = [];</span><br><span class="line">    <span class="keyword">if</span>(<span class="built_in">arguments</span> &amp;&amp; <span class="built_in">arguments</span>.length&gt;<span class="number">1</span>)&#123;</span><br><span class="line">      <span class="keyword">for</span>(<span class="keyword">var</span> index <span class="keyword">in</span> <span class="built_in">arguments</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(index==<span class="string">'0'</span>)&#123;</span><br><span class="line">          <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        args.push(<span class="built_in">arguments</span>[index]);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> thatFunc !== <span class="string">'function'</span>) &#123;</span><br><span class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">'Function.prototype.bind - what is trying to be bound is not callable'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>)</span>&#123;</span><br><span class="line">      <span class="keyword">var</span> args2 = [];</span><br><span class="line">      <span class="keyword">if</span>(<span class="built_in">arguments</span> &amp;&amp; <span class="built_in">arguments</span>.length&gt;<span class="number">0</span>)&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">var</span> index <span class="keyword">in</span> <span class="built_in">arguments</span>)&#123;</span><br><span class="line">          args2.push(<span class="built_in">arguments</span>[index]);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="keyword">var</span> funcArgs = args.concat(args2);</span><br><span class="line">      <span class="keyword">if</span>(thatArg)&#123;</span><br><span class="line">        <span class="keyword">var</span> symbol = <span class="built_in">Symbol</span>();</span><br><span class="line">        thatArg[symbol] = thatFunc;</span><br><span class="line">        thatArg[symbol](...funcArgs);</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        thatFunc(...funcArgs);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">foo</span>(<span class="params">age</span>)</span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="keyword">this</span>.name + <span class="string">': '</span> + age);</span><br><span class="line">&#125;</span><br><span class="line">foo.bind2(&#123;<span class="attr">name</span>:<span class="string">'123'</span>&#125;)(<span class="number">20</span>);</span><br></pre></td></tr></table></figure>

<h3 id="uncurrying"><a href="#uncurrying" class="headerlink" title="uncurrying"></a>uncurrying</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> obj = &#123;</span><br><span class="line">  <span class="string">"length"</span>: <span class="number">1</span>,</span><br><span class="line">  <span class="string">"0"</span>: <span class="number">1</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">Function</span>.prototype.uncurrying = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">var</span> self = <span class="keyword">this</span>;</span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Function</span>.prototype.call.apply(self, <span class="built_in">arguments</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> push = <span class="built_in">Array</span>.prototype.push.uncurrying()</span><br><span class="line">push(obj, <span class="number">2</span>) <span class="comment">//&#123;0: 1, 1: 2, length: 2&#125;</span></span><br></pre></td></tr></table></figure>

<h2 id="高阶函数"><a href="#高阶函数" class="headerlink" title="高阶函数"></a>高阶函数</h2><p>接受一个或多个函数作为输入</p>
<p>函数的柯里化</p>
<p>接收函数A作为参数，运行后能够返回一个新的函数。并且这个新的函数能够处理函数A的剩余参数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 简单实现，参数只能从右到左传递</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createCurry</span>(<span class="params">func, args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arity = func.length;</span><br><span class="line">    <span class="keyword">var</span> args = args || [];</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        <span class="keyword">var</span> _args = [].slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">        [].push.apply(_args, args);</span><br><span class="line">        <span class="comment">// 如果参数个数小于最初的func.length，则递归调用，继续收集参数</span></span><br><span class="line">        <span class="keyword">if</span> (_args.length &lt; arity) &#123;</span><br><span class="line">            <span class="keyword">return</span> createCurry.call(<span class="keyword">this</span>, func, _args);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 参数收集完毕，则执行func</span></span><br><span class="line">        <span class="keyword">return</span> func.apply(<span class="keyword">this</span>, _args);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="StringBuffer"><a href="#StringBuffer" class="headerlink" title="StringBuffer"></a>StringBuffer</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">StringBuffer</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>._strings_ = <span class="keyword">new</span> <span class="built_in">Array</span>();</span><br><span class="line">&#125;</span><br><span class="line">StringBuffer.prototype.append = <span class="function"><span class="keyword">function</span>(<span class="params">str</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">this</span>._strings_.push(str);</span><br><span class="line">&#125;;</span><br><span class="line">StringBuffer.prototype.toString = <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">this</span>._strings_.join(<span class="string">""</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> buffer = <span class="keyword">new</span> StringBuffer ();</span><br><span class="line">buffer.append(<span class="string">"hello "</span>);</span><br><span class="line">buffer.append(<span class="string">"world"</span>);</span><br><span class="line"><span class="keyword">var</span> result = buffer.toString();</span><br></pre></td></tr></table></figure>

<h2 id="解疑"><a href="#解疑" class="headerlink" title="解疑"></a>解疑</h2><h3 id="setTimeout、Promise、Async-Await-的区别"><a href="#setTimeout、Promise、Async-Await-的区别" class="headerlink" title="setTimeout、Promise、Async/Await 的区别"></a>setTimeout、Promise、Async/Await 的区别</h3><p>事件循环分两种情况的，即宏任务(macrotask)和微任务(microtask)。</p>
<p>当主线程任务完成为空去Event Quenu读取函数的时候，是先读取的微任务，当微任务执行完毕之后，才会继续执行宏任务。</p>
<p>执行顺序</p>
<ul>
<li><p>同步 &gt; 异步</p>
</li>
<li><p>微任务 &gt; 宏任务</p>
</li>
<li><p>微任务：Promise，process.nextTick。</p>
</li>
<li><p>宏任务：整体代码script，setTimeout，setInterval</p>
</li>
</ul>
<h2 id="解答"><a href="#解答" class="headerlink" title="解答"></a>解答</h2><h3 id="将数组扁平化去并除其中重复部分数据"><a href="#将数组扁平化去并除其中重复部分数据" class="headerlink" title="将数组扁平化去并除其中重复部分数据"></a>将数组扁平化去并除其中重复部分数据</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> arr = [ [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>], [<span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, [<span class="number">11</span>, <span class="number">12</span>, [<span class="number">12</span>, <span class="number">13</span>, [<span class="number">14</span>] ] ] ], <span class="number">10</span>];</span><br><span class="line"><span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr.flat(<span class="literal">Infinity</span>))).sort(<span class="function">(<span class="params">a,b</span>)=&gt;</span>&#123; <span class="keyword">return</span> a-b&#125;)</span><br></pre></td></tr></table></figure>

<h3 id="简单讲解一下http2的多路复用"><a href="#简单讲解一下http2的多路复用" class="headerlink" title="简单讲解一下http2的多路复用"></a>简单讲解一下http2的多路复用</h3><p>HTTP2采用二进制格式传输，取代了HTTP1.x的文本格式，二进制格式解析更高效。<br>多路复用代替了HTTP1.x的序列和阻塞机制，所有的相同域名请求都通过同一个TCP连接并发完成。在HTTP1.x中，并发多个请求需要多个TCP连接，浏览器为了控制资源会有6-8个TCP连接都限制。<br>HTTP2中</p>
<p>同域名下所有通信都在单个连接上完成，消除了因多个 TCP 连接而带来的延时和内存消耗。<br>单个连接上可以并行交错的请求和响应，之间互不干扰</p>
<h3 id="对TCP三次握手和四次挥手的理解"><a href="#对TCP三次握手和四次挥手的理解" class="headerlink" title="对TCP三次握手和四次挥手的理解"></a>对TCP三次握手和四次挥手的理解</h3><p>三次握手：<br>1、客户端发送syn包到服务器，等待服务器确认接收。<br>2、服务器确认接收syn包并确认客户的syn，并发送回来一个syn+ack的包给客户端。<br>3、客户端确认接收服务器的syn+ack包，并向服务器发送确认包ack，二者相互建立联系后，完成tcp三次握手。<br>四次挥手：中间多了一层 等待服务器再一次响应回复相关数据的过程</p>
<h3 id="深度优先遍历和广度优先遍历"><a href="#深度优先遍历和广度优先遍历" class="headerlink" title="深度优先遍历和广度优先遍历"></a>深度优先遍历和广度优先遍历</h3><p>递归、队列</p>
<p>用深度优先思想和广度优先思想实现一个拷贝函数</p>
<h1 id="浏览器"><a href="#浏览器" class="headerlink" title="浏览器"></a>浏览器</h1><h2 id="AJAX"><a href="#AJAX" class="headerlink" title="AJAX"></a>AJAX</h2><p>AJAX = Asynchronous JavaScript and XML（异步的 JavaScript 和 XML） 是一种在无需重新加载整个网页的情况下，能够更新部分网页的技术。</p>
<ol>
<li>创建 XMLHttpRequest 对象</li>
<li>设置 onreadystatechange 状态更改事件</li>
<li>调用对象的 open 方法并规定请求类型（GET、POST、PUT、DELETE、HEAD、OPTIONS）、URL以及是否异步处理请求 async(true-异步|false-同步)</li>
<li>可选，setRequestHeader 方法设置请求头</li>
<li>调用对象的 send 方法将请求发送到服务器，当请求类型为 POST、PUT 时，可发送请求数据 send(string)</li>
</ol>
<h3 id="请求头"><a href="#请求头" class="headerlink" title="请求头"></a>请求头</h3><p>content-type</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Content-Type: application&#x2F;x-www-form-urlencoded; charset&#x3D;UTF-8</span><br></pre></td></tr></table></figure>

<ul>
<li><code>application/x-www-form-urlencoded</code>: Form Data</li>
<li><code>multipart/form-data</code>: Request Payload，可上传文件</li>
<li><code>application/json</code>: Request Payload</li>
<li><code>text/xml</code>: Request Payload</li>
<li><code>charset=UTF-8</code></li>
</ul>
<h3 id="请求类型比较"><a href="#请求类型比较" class="headerlink" title="请求类型比较"></a>请求类型比较</h3><p>所有HTTP请求都是这种格式：HTTP请求头+HTTP请求体。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">&lt;method&gt; &lt;url&gt; HTTP&#x2F;1.1</span><br><span class="line">&lt;header1&gt;: &lt;headerValue1&gt;</span><br><span class="line">&lt;header2&gt;: &lt;headerValue2&gt;</span><br><span class="line">...</span><br><span class="line">&lt;headerN&gt;: &lt;headerValueN&gt;</span><br><span class="line"></span><br><span class="line">&lt;body data...&gt;</span><br></pre></td></tr></table></figure>

<ul>
<li><code>POST</code>: 一般只用于新增数据</li>
<li><code>GET</code>: chrome浏览器限制请求URL长度20000+个字符 一般只用于获取数据</li>
<li><code>PUT</code>: 只用于更新数据</li>
<li><code>DELETE</code>: 只用于删除数据</li>
<li><code>HEAD</code>: 只用于头请求</li>
<li><code>OPTIONS</code>: 只用于检测是否可访问，用于跨域检测</li>
</ul>
<h3 id="方法-事件"><a href="#方法-事件" class="headerlink" title="方法/事件"></a>方法/事件</h3><ul>
<li><code>getAllResponseHeaders</code>: 检索资源（文件）的头信息</li>
<li><code>onreadystatechange</code>: 存有 XMLHttpRequest 的状态。从 0 到 4 发生变化。</li>
</ul>
<p>readyState:</p>
<ul>
<li><code>0</code>: 请求未初始化</li>
<li><code>1</code>: 服务器连接已建立</li>
<li><code>2</code>: 请求已接收</li>
<li><code>3</code>: 请求处理中</li>
<li><code>4</code>: 请求已完成，且响应已就绪</li>
</ul>
<p>status: </p>
<ul>
<li><code>1xx</code>: 信息响应类，表示接收到请求并且继续处理</li>
<li><code>2xx</code>: 处理成功响应类，表示动作被成功接收、理解和接受</li>
<li><code>3xx</code>: 重定向响应类，为了完成指定的动作，必须接受进一步处理</li>
<li><code>4xx</code>: 客户端错误，客户请求包含语法错误或者是不能正确执行</li>
<li><code>5xx</code>: 服务端错误，服务器不能正确执行一个正确的请求</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">100——客户必须继续发出请求</span><br><span class="line">101——客户要求服务器根据请求转换HTTP协议版本</span><br><span class="line">200——&quot;OK&quot;交易成功</span><br><span class="line">201——提示知道新文件的URL</span><br><span class="line">202——接受和处理、但处理未完成</span><br><span class="line">203——返回信息不确定或不完整</span><br><span class="line">204——请求收到，但返回信息为空</span><br><span class="line">205——服务器完成了请求，用户代理必须复位当前已经浏览过的文件</span><br><span class="line">206——服务器已经完成了部分用户的GET请求</span><br><span class="line">300——请求的资源可在多处得到</span><br><span class="line">301——删除请求数据</span><br><span class="line">302——在其他地址发现了请求数据</span><br><span class="line">303——建议客户访问其他URL或访问方式</span><br><span class="line">304——客户端已经执行了GET，但文件未变化</span><br><span class="line">305——请求的资源必须从服务器指定的地址得到</span><br><span class="line">306——前一版本HTTP中使用的代码，现行版本中不再使用</span><br><span class="line">307——申明请求的资源临时性删除</span><br><span class="line">400——错误请求，如语法错误</span><br><span class="line">401——请求授权失败</span><br><span class="line">402——保留有效ChargeTo头响应</span><br><span class="line">403——请求不允许</span><br><span class="line">404——没有发现文件、查询或URl</span><br><span class="line">405——用户在Request-Line字段定义的方法不允许</span><br><span class="line">406——根据用户发送的Accept拖，请求资源不可访问</span><br><span class="line">407——类似401，用户必须首先在代理服务器上得到授权</span><br><span class="line">408——客户端没有在用户指定的饿时间内完成请求</span><br><span class="line">409——对当前资源状态，请求不能完成</span><br><span class="line">410——服务器上不再有此资源且无进一步的参考地址</span><br><span class="line">411——服务器拒绝用户定义的Content-Length属性请求</span><br><span class="line">412——一个或多个请求头字段在当前请求中错误</span><br><span class="line">413——请求的资源大于服务器允许的大小</span><br><span class="line">414——请求的资源URL长于服务器允许的长度</span><br><span class="line">415——请求资源不支持请求项目格式</span><br><span class="line">416——请求中包含Range请求头字段，在当前请求资源范围内没有range指示值，请求也不包含If-Range请求头字段</span><br><span class="line">417——服务器不满足请求Expect头字段指定的期望值，如果是代理服务器，可能是下一级服务器不能满足请求</span><br><span class="line">500——服务器产生内部错误</span><br><span class="line">501——服务器不支持请求的函数</span><br><span class="line">502——服务器暂时不可用，有时是为了防止发生系统过载</span><br><span class="line">503——服务器过载或暂停维修</span><br><span class="line">504——关口过载，服务器使用另一个关口或服务来响应用户，等待时间设定值较长</span><br><span class="line">505——服务器不支持或拒绝支请求头中指定的HTTP版本</span><br></pre></td></tr></table></figure>

<h3 id="返回结果"><a href="#返回结果" class="headerlink" title="返回结果"></a>返回结果</h3><ul>
<li><code>responseText</code>: 获得字符串形式的响应数据。</li>
<li><code>responseXML</code>: 获得 XML 形式的响应数据。</li>
</ul>
<h3 id="例子"><a href="#例子" class="headerlink" title="例子"></a>例子</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> xmlhttp;</span><br><span class="line"><span class="keyword">if</span> (<span class="built_in">window</span>.XMLHttpRequest) &#123;</span><br><span class="line">    <span class="comment">//  IE7+, Firefox, Chrome, Opera, Safari 浏览器执行代码</span></span><br><span class="line">    xmlhttp=<span class="keyword">new</span> XMLHttpRequest();</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">// IE6, IE5 浏览器执行代码</span></span><br><span class="line">    xmlhttp=<span class="keyword">new</span> ActiveXObject(<span class="string">"Microsoft.XMLHTTP"</span>);</span><br><span class="line">&#125;</span><br><span class="line">xmlhttp.onreadystatechange=<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (xmlhttp.readyState==<span class="number">4</span> &amp;&amp; xmlhttp.status==<span class="number">200</span>) &#123;</span><br><span class="line">        <span class="built_in">console</span>.log(xmlhttp.responseText);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">xmlhttp.open(<span class="string">"GET"</span>,<span class="string">"/try/ajax/ajax_info.txt"</span>,<span class="literal">true</span>);</span><br><span class="line">xmlhttp.setRequestHeader(<span class="string">'Content-Type'</span>, <span class="string">'application/x-www-form-urlencoded'</span>);</span><br><span class="line">xmlhttp.send();</span><br></pre></td></tr></table></figure>

<h2 id="事件处理"><a href="#事件处理" class="headerlink" title="事件处理"></a>事件处理</h2><ul>
<li><code>addEventListener</code>: 添加监听事件</li>
<li><code>dispatchEvent</code>: 触发事件</li>
<li><code>removeEventListener</code>: 移除监听事件</li>
</ul>
<h2 id="元素操作"><a href="#元素操作" class="headerlink" title="元素操作"></a>元素操作</h2><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 设置HTMLElement对象属性值</span></span><br><span class="line"><span class="keyword">var</span> newAttr = <span class="built_in">document</span>.createAttribute(strAttrName);</span><br><span class="line">newAttr.value=strAttrValue;</span><br><span class="line">ele.attributes.setNamedItem(newAttr);</span><br><span class="line"><span class="comment">// 判断元素是否为HTML节点元素</span></span><br><span class="line"><span class="keyword">return</span> HTMLElement.prototype.isPrototypeOf(anyTarget);</span><br><span class="line"><span class="comment">// html符号转义</span></span><br><span class="line">a.replace(<span class="regexp">/[&lt;&gt;&amp;"]/g</span>,<span class="function"><span class="keyword">function</span>(<span class="params">c</span>)</span>&#123;<span class="keyword">return</span> &#123;<span class="string">'&lt;'</span>:<span class="string">'&amp;lt;'</span>,<span class="string">'&gt;'</span>:<span class="string">'&amp;gt;'</span>,<span class="string">'&amp;'</span>:<span class="string">'&amp;amp;'</span>,<span class="string">'"'</span>:<span class="string">'&amp;quot;'</span>&#125;[c];&#125;)</span><br><span class="line"><span class="comment">// 文件下载</span></span><br><span class="line"><span class="keyword">var</span> objBolb = <span class="keyword">new</span> Blob([<span class="string">'\ufeff'</span>+content],&#123;<span class="attr">type</span>:<span class="string">'text/plain,charset=UTF-8'</span>&#125;);</span><br><span class="line"><span class="keyword">var</span> eleLink = <span class="built_in">document</span>.createElement(<span class="string">'a'</span>);</span><br><span class="line">eleLink.target = <span class="string">'_blank'</span>;</span><br><span class="line">eleLink.href = URL.createObjectURL(objBolb);</span><br><span class="line">eleLink.download = name;</span><br><span class="line"><span class="built_in">document</span>.body.appendChild(eleLink);</span><br><span class="line">eleLink.click();</span><br><span class="line">eleLink.remove();</span><br><span class="line"><span class="comment">// 复制到粘贴板</span></span><br><span class="line"><span class="built_in">window</span>.getSelection().removeAllRanges();</span><br><span class="line"><span class="keyword">var</span> range = <span class="built_in">document</span>.createRange();</span><br><span class="line">range.selectNode(objTarget);</span><br><span class="line"><span class="built_in">window</span>.getSelection().addRange(range);</span><br><span class="line">successFul = <span class="built_in">document</span>.execCommand(<span class="string">'copy'</span>);</span><br></pre></td></tr></table></figure>


<h2 id="A、B-机器正常连接后，B-机器突然重启，问-A-此时处于-TCP-什么状态"><a href="#A、B-机器正常连接后，B-机器突然重启，问-A-此时处于-TCP-什么状态" class="headerlink" title="A、B 机器正常连接后，B 机器突然重启，问 A 此时处于 TCP 什么状态"></a>A、B 机器正常连接后，B 机器突然重启，问 A 此时处于 TCP 什么状态</h2><ol>
<li>服务器不重启，客户继续工作，就会发现对方没有回应(ETIMEOUT)，路由器聪明的话，则是目的地不可达(EHOSTUNREACH)。</li>
<li>服务器重启后，客户继续工作，然而服务器已丢失客户信息，收到客户数据后响应RST。</li>
</ol>
<h1 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h1><h2 id="介绍下-npm-模块安装机制，为什么输入-npm-install-就可以自动安装对应的模块？"><a href="#介绍下-npm-模块安装机制，为什么输入-npm-install-就可以自动安装对应的模块？" class="headerlink" title="介绍下 npm 模块安装机制，为什么输入 npm install 就可以自动安装对应的模块？"></a>介绍下 npm 模块安装机制，为什么输入 npm install 就可以自动安装对应的模块？</h2><p>发出npm install命令，查询node_modules目录之中是否已经存在指定模块，若存在，不再重新安装；<br>若不存在，npm 向 registry 查询模块压缩包的网址，下载压缩包，存放在根目录下的.npm目录里，解压压缩包到当前项目的node_modules目录。</p>
<h1 id="React"><a href="#React" class="headerlink" title="React"></a>React</h1><h2 id="React-中-setState-什么时候是同步的，什么时候是异步的？"><a href="#React-中-setState-什么时候是同步的，什么时候是异步的？" class="headerlink" title="React 中 setState 什么时候是同步的，什么时候是异步的？"></a>React 中 setState 什么时候是同步的，什么时候是异步的？</h2><p>如果是由React引发的事件处理（比如通过onClick引发的事件处理），调用setState不会同步更新this.state，除此之外的setState调用会同步执行this.state。</p>
<p>指的是绕过React通过addEventListener直接添加的事件处理函数，还有通过setTimeout/setInterval产生的异步调用。</p>
<p>在React的setState函数实现中，会根据一个变量isBatchingUpdates判断是直接更新this.state还是放到队列中回头再说，而isBatchingUpdates默认是false，也就表示setState会同步更新this.state，但是，有一个函数batchedUpdates，这个函数会把isBatchingUpdates修改为true，而当React在调用事件处理函数之前就会调用这个batchedUpdates，造成的后果，就是由React控制的事件处理过程setState不会同步更新this.state。</p>
<p>这里所说的同步异步，并不是真正的同步异步，它还是同步执行的。</p>
<p>这里的异步指的是多个state会合成到一起进行批量更新。</p>
<figure class="highlight jsx"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Example</span> <span class="keyword">extends</span> <span class="title">React</span>.<span class="title">Component</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>() &#123;</span><br><span class="line">    <span class="keyword">super</span>();</span><br><span class="line">    <span class="keyword">this</span>.state = &#123;</span><br><span class="line">      val: <span class="number">0</span></span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;</span><br><span class="line">  componentDidMount() &#123;</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">val</span>: <span class="keyword">this</span>.state.val + <span class="number">1</span>&#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.val);</span><br><span class="line">    <span class="keyword">this</span>.setState(&#123;<span class="attr">val</span>: <span class="keyword">this</span>.state.val + <span class="number">1</span>&#125;);</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.val);</span><br><span class="line">    setTimeout(<span class="function"><span class="params">()</span> =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;<span class="attr">val</span>: <span class="keyword">this</span>.state.val + <span class="number">1</span>&#125;);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.val);</span><br><span class="line">      <span class="keyword">this</span>.setState(&#123;<span class="attr">val</span>: <span class="keyword">this</span>.state.val + <span class="number">1</span>&#125;);</span><br><span class="line">      <span class="built_in">console</span>.log(<span class="keyword">this</span>.state.val);</span><br><span class="line">    &#125;, <span class="number">0</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  render() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 输出</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 0</span></span><br><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line"><span class="comment">// 1、第一次和第二次都是在 react 自身生命周期内，触发时 isBatchingUpdates 为 true，所以并不会直接执行更新 state，而是加入了 dirtyComponents，所以打印时获取的都是更新前的状态 0。</span></span><br><span class="line"><span class="comment">// 2、两次 setState 时，获取到 this.state.val 都是 0，所以执行时都是将 0 设置成 1，在 react 内部会被合并掉，只执行一次。设置完成后 state.val 值为 1。</span></span><br><span class="line"><span class="comment">// 3、setTimeout 中的代码，触发时 isBatchingUpdates 为 false，所以能够直接进行更新，所以连着输出 2，3。</span></span><br></pre></td></tr></table></figure>

    </div>

    
    
    
        <div class="reward-container">
  <div></div>
  <button disable="enable" onclick="var qr = document.getElementById(&quot;qr&quot;); qr.style.display = (qr.style.display === 'none') ? 'block' : 'none';">
    打赏
  </button>
  <div id="qr" style="display: none;">
      
      <div style="display: inline-block;">
        <img src="/images/wechatpay.png" alt="Jinwen 微信支付">
        <p>微信支付</p>
      </div>

  </div>
</div>


      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/javascript/" rel="tag"><i class="fa fa-tag"></i> javascript</a>
          </div>

        


        
    <div class="post-nav">
      <div class="post-nav-item">
    <a href="/2019/12/01/scss/" rel="prev" title="scss">
      <i class="fa fa-chevron-left"></i> scss
    </a></div>
      <div class="post-nav-item">
    <a href="/2019/12/01/angular-%E5%B0%8F%E7%BB%93/" rel="next" title="angular-小结">
      angular-小结 <i class="fa fa-chevron-right"></i>
    </a></div>
    </div>
      </footer>
    
  </article>
  
  
  

    <div id="gitmentContainer"></div>
  </div>


          </div>
          

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <div class="night-mode">
        <div class="toggle-mode">
          <div class="icon" title="白天模式">
            <i class="fa fa-sun-o" aria-hidden="true"></i>
          </div>
          <div class="toggle-switch">
            <label class="switch" id="night-switch">
              <input type="checkbox" id="switch-style">
              <div class="slider round"></div>
            </label>
          </div>
          <div class="icon" title="夜间模式">
            <i class="fa fa-moon-o" aria-hidden="true"></i>
          </div>
        </div>
      </div>

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          文章目录
        </li>
        <li class="sidebar-nav-overview">
          站点概览
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-2"><a class="nav-link" href="#ECMAScript"><span class="nav-number">1.</span> <span class="nav-text">ECMAScript</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#DOM"><span class="nav-number">2.</span> <span class="nav-text">DOM</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#BOM"><span class="nav-number">3.</span> <span class="nav-text">BOM</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#基本"><span class="nav-number"></span> <span class="nav-text">基本</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#声明-定义"><span class="nav-number">1.</span> <span class="nav-text">声明&#x2F;定义</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#关键字"><span class="nav-number">2.</span> <span class="nav-text">关键字</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#常用函数"><span class="nav-number">2.1.</span> <span class="nav-text">常用函数</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#类型"><span class="nav-number">3.</span> <span class="nav-text">类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#五种可包含值的数据类型"><span class="nav-number">3.1.</span> <span class="nav-text">五种可包含值的数据类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#三种对象类型"><span class="nav-number">3.2.</span> <span class="nav-text">三种对象类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#两种不能包含值的数据类型："><span class="nav-number">3.3.</span> <span class="nav-text">两种不能包含值的数据类型：</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#值"><span class="nav-number">3.4.</span> <span class="nav-text">值</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#类型判断"><span class="nav-number">3.5.</span> <span class="nav-text">类型判断</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#typeof"><span class="nav-number">3.5.1.</span> <span class="nav-text">typeof</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#instanceof"><span class="nav-number">3.5.2.</span> <span class="nav-text">instanceof</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Object-prototype-toString-call-apply"><span class="nav-number">3.5.3.</span> <span class="nav-text">Object.prototype.toString.call&#x2F;apply</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#constructor-NaN"><span class="nav-number">3.5.4.</span> <span class="nav-text">constructor</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#引用类型"><span class="nav-number">4.</span> <span class="nav-text">引用类型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Object"><span class="nav-number">4.1.</span> <span class="nav-text">Object</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#proto"><span class="nav-number">4.1.1.</span> <span class="nav-text">__proto__</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#constructor"><span class="nav-number">4.1.2.</span> <span class="nav-text">constructor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#assign"><span class="nav-number">4.1.3.</span> <span class="nav-text">assign</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#create"><span class="nav-number">4.1.4.</span> <span class="nav-text">create</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#defineProperty"><span class="nav-number">4.1.5.</span> <span class="nav-text">defineProperty</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#defineProperties"><span class="nav-number">4.1.6.</span> <span class="nav-text">defineProperties</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#entries"><span class="nav-number">4.1.7.</span> <span class="nav-text">entries</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#freeze、isFrozen"><span class="nav-number">4.1.8.</span> <span class="nav-text">freeze、isFrozen</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fromEntries"><span class="nav-number">4.1.9.</span> <span class="nav-text">fromEntries</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getOwnPropertyDescriptor"><span class="nav-number">4.1.10.</span> <span class="nav-text">getOwnPropertyDescriptor</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getOwnPropertyDescriptors"><span class="nav-number">4.1.11.</span> <span class="nav-text">getOwnPropertyDescriptors</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getOwnPropertyNames"><span class="nav-number">4.1.12.</span> <span class="nav-text">getOwnPropertyNames</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getOwnPropertySymbols"><span class="nav-number">4.1.13.</span> <span class="nav-text">getOwnPropertySymbols</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#getPrototypeOf"><span class="nav-number">4.1.14.</span> <span class="nav-text">getPrototypeOf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#is"><span class="nav-number">4.1.15.</span> <span class="nav-text">is</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#isExtensible、preventExtensions"><span class="nav-number">4.1.16.</span> <span class="nav-text">isExtensible、preventExtensions</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#isSealed、seal"><span class="nav-number">4.1.17.</span> <span class="nav-text">isSealed、seal</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#keys"><span class="nav-number">4.1.18.</span> <span class="nav-text">keys</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Function"><span class="nav-number">4.2.</span> <span class="nav-text">Function</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#arguments"><span class="nav-number">4.2.1.</span> <span class="nav-text">arguments</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#length"><span class="nav-number">4.2.2.</span> <span class="nav-text">length</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#name"><span class="nav-number">4.2.3.</span> <span class="nav-text">name</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#prototype"><span class="nav-number">4.2.4.</span> <span class="nav-text">prototype</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#toString-NaN"><span class="nav-number">4.2.5.</span> <span class="nav-text">toString</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AOP"><span class="nav-number">4.2.6.</span> <span class="nav-text">AOP</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#call-apply"><span class="nav-number">4.2.7.</span> <span class="nav-text">call&#x2F;apply</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#bind"><span class="nav-number">4.2.8.</span> <span class="nav-text">bind</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Boolean"><span class="nav-number">4.3.</span> <span class="nav-text">Boolean</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#hasOwnProperty-NaN"><span class="nav-number">4.3.1.</span> <span class="nav-text">hasOwnProperty</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#isPrototypeOf-NaN"><span class="nav-number">4.3.2.</span> <span class="nav-text">isPrototypeOf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#propertyIsEnumerable-NaN"><span class="nav-number">4.3.3.</span> <span class="nav-text">propertyIsEnumerable</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#toLocaleString-NaN"><span class="nav-number">4.3.4.</span> <span class="nav-text">toLocaleString</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#valueOf-NaN"><span class="nav-number">4.3.5.</span> <span class="nav-text">valueOf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#setPrototypeOf"><span class="nav-number">4.3.6.</span> <span class="nav-text">setPrototypeOf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#values"><span class="nav-number">4.3.7.</span> <span class="nav-text">values</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Number"><span class="nav-number">4.4.</span> <span class="nav-text">Number</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#String"><span class="nav-number">4.5.</span> <span class="nav-text">String</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Array"><span class="nav-number">4.6.</span> <span class="nav-text">Array</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#from"><span class="nav-number">4.6.1.</span> <span class="nav-text">from</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#isArray"><span class="nav-number">4.6.2.</span> <span class="nav-text">isArray</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#of"><span class="nav-number">4.6.3.</span> <span class="nav-text">of</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#concat"><span class="nav-number">4.6.4.</span> <span class="nav-text">concat</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#copyWithin"><span class="nav-number">4.6.5.</span> <span class="nav-text">copyWithin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#entries-1"><span class="nav-number">4.6.6.</span> <span class="nav-text">entries</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#every"><span class="nav-number">4.6.7.</span> <span class="nav-text">every</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#fill"><span class="nav-number">4.6.8.</span> <span class="nav-text">fill</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#filter"><span class="nav-number">4.6.9.</span> <span class="nav-text">filter</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#find"><span class="nav-number">4.6.10.</span> <span class="nav-text">find</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#findIndex"><span class="nav-number">4.6.11.</span> <span class="nav-text">findIndex</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flat"><span class="nav-number">4.6.12.</span> <span class="nav-text">flat</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#flatMap"><span class="nav-number">4.6.13.</span> <span class="nav-text">flatMap</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#forEach"><span class="nav-number">4.6.14.</span> <span class="nav-text">forEach</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#includes"><span class="nav-number">4.6.15.</span> <span class="nav-text">includes</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#indexOf、lastIndexOf"><span class="nav-number">4.6.16.</span> <span class="nav-text">indexOf、lastIndexOf</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#join"><span class="nav-number">4.6.17.</span> <span class="nav-text">join</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#keys-1"><span class="nav-number">4.6.18.</span> <span class="nav-text">keys</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#map"><span class="nav-number">4.6.19.</span> <span class="nav-text">map</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#pop"><span class="nav-number">4.6.20.</span> <span class="nav-text">pop</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#push"><span class="nav-number">4.6.21.</span> <span class="nav-text">push</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reduce"><span class="nav-number">4.6.22.</span> <span class="nav-text">reduce</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reduceRight"><span class="nav-number">4.6.23.</span> <span class="nav-text">reduceRight</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reverse"><span class="nav-number">4.6.24.</span> <span class="nav-text">reverse</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#shift"><span class="nav-number">4.6.25.</span> <span class="nav-text">shift</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#slice"><span class="nav-number">4.6.26.</span> <span class="nav-text">slice</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#some"><span class="nav-number">4.6.27.</span> <span class="nav-text">some</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#sort"><span class="nav-number">4.6.28.</span> <span class="nav-text">sort</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#splice"><span class="nav-number">4.6.29.</span> <span class="nav-text">splice</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#toLocaleString"><span class="nav-number">4.6.30.</span> <span class="nav-text">toLocaleString</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#unshift"><span class="nav-number">4.6.31.</span> <span class="nav-text">unshift</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#values-1"><span class="nav-number">4.6.32.</span> <span class="nav-text">values</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#iterator"><span class="nav-number">4.6.33.</span> <span class="nav-text">@@iterator</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#ArrayBuffer"><span class="nav-number">4.7.</span> <span class="nav-text">ArrayBuffer</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Promise"><span class="nav-number">4.8.</span> <span class="nav-text">Promise</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#all"><span class="nav-number">4.8.1.</span> <span class="nav-text">all</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#allSettled"><span class="nav-number">4.8.2.</span> <span class="nav-text">allSettled</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#any"><span class="nav-number">4.8.3.</span> <span class="nav-text">any</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#race"><span class="nav-number">4.8.4.</span> <span class="nav-text">race</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#reject"><span class="nav-number">4.8.5.</span> <span class="nav-text">reject</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#resolve"><span class="nav-number">4.8.6.</span> <span class="nav-text">resolve</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Proxy"><span class="nav-number">4.9.</span> <span class="nav-text">Proxy</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#RegExp"><span class="nav-number">4.10.</span> <span class="nav-text">RegExp</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Map"><span class="nav-number">4.11.</span> <span class="nav-text">Map</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Set"><span class="nav-number">4.12.</span> <span class="nav-text">Set</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WeakSet"><span class="nav-number">4.13.</span> <span class="nav-text">WeakSet</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#WeakMap"><span class="nav-number">4.14.</span> <span class="nav-text">WeakMap</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isFinite"><span class="nav-number">4.15.</span> <span class="nav-text">isFinite</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#isNaN"><span class="nav-number">4.16.</span> <span class="nav-text">isNaN</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#运算符"><span class="nav-number">5.</span> <span class="nav-text">运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#一元运算符"><span class="nav-number">5.1.</span> <span class="nav-text">一元运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#delete"><span class="nav-number">5.1.1.</span> <span class="nav-text">delete</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#void"><span class="nav-number">5.1.2.</span> <span class="nav-text">void</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#前增量-i-前减量运算符-–i"><span class="nav-number">5.1.3.</span> <span class="nav-text">前增量(++i)&#x2F;前减量运算符(–i)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#后增量-i-后减量运算符-i–"><span class="nav-number">5.1.4.</span> <span class="nav-text">后增量(i++)&#x2F;后减量运算符(i–)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#一元加法和一元减法"><span class="nav-number">5.1.5.</span> <span class="nav-text">一元加法和一元减法</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#位运算符"><span class="nav-number">5.2.</span> <span class="nav-text">位运算符</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#NOT"><span class="nav-number">5.2.1.</span> <span class="nav-text">NOT(~)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#AND-amp"><span class="nav-number">5.2.2.</span> <span class="nav-text">AND(&amp;)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#OR"><span class="nav-number">5.2.3.</span> <span class="nav-text">OR(|)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#XOR"><span class="nav-number">5.2.4.</span> <span class="nav-text">XOR(^)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#左移运算-lt-lt"><span class="nav-number">5.2.5.</span> <span class="nav-text">左移运算(&lt;&lt;)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#有符号右移运算-gt-gt"><span class="nav-number">5.2.6.</span> <span class="nav-text">有符号右移运算(&gt;&gt;)</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#无符号右移运算-gt-gt-gt"><span class="nav-number">5.2.7.</span> <span class="nav-text">无符号右移运算(&gt;&gt;&gt;)</span></a></li></ol></li><li class="nav-item nav-level-3"><a class="nav-link" href="#运算操作"><span class="nav-number">5.3.</span> <span class="nav-text">运算操作</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Infinity"><span class="nav-number">5.3.1.</span> <span class="nav-text">Infinity</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#优先级"><span class="nav-number">5.3.2.</span> <span class="nav-text">优先级</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#语句-块"><span class="nav-number">6.</span> <span class="nav-text">语句&#x2F;块</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#标签语句"><span class="nav-number">6.1.</span> <span class="nav-text">标签语句</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#with"><span class="nav-number">6.2.</span> <span class="nav-text">with</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#闭包（closure）"><span class="nav-number">6.3.</span> <span class="nav-text">闭包（closure）</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#对象"><span class="nav-number">7.</span> <span class="nav-text">对象</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#面向对象"><span class="nav-number">7.1.</span> <span class="nav-text">面向对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象类型"><span class="nav-number">7.2.</span> <span class="nav-text">对象类型</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#本地对象"><span class="nav-number">7.3.</span> <span class="nav-text">本地对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#内置对象"><span class="nav-number">7.4.</span> <span class="nav-text">内置对象</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#宿主对象"><span class="nav-number">7.5.</span> <span class="nav-text">宿主对象</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#原型"><span class="nav-number">8.</span> <span class="nav-text">原型</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#构造函数方式"><span class="nav-number">8.1.</span> <span class="nav-text">构造函数方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原型方式"><span class="nav-number">8.2.</span> <span class="nav-text">原型方式</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#动态原型方法"><span class="nav-number">8.3.</span> <span class="nav-text">动态原型方法</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对象冒充"><span class="nav-number">8.4.</span> <span class="nav-text">对象冒充</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#原型链"><span class="nav-number">8.5.</span> <span class="nav-text">原型链</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#proto-不推荐"><span class="nav-number">8.6.</span> <span class="nav-text">__proto__(不推荐)</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#async、await"><span class="nav-number">9.</span> <span class="nav-text">async、await</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#Async"><span class="nav-number">9.1.</span> <span class="nav-text">Async</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#Await"><span class="nav-number">9.2.</span> <span class="nav-text">Await</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#安全"><span class="nav-number"></span> <span class="nav-text">安全</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#CORS"><span class="nav-number">1.</span> <span class="nav-text">CORS</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#简单请求"><span class="nav-number">1.1.</span> <span class="nav-text">简单请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#预检请求"><span class="nav-number">1.2.</span> <span class="nav-text">预检请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#附带身份凭证的请求"><span class="nav-number">1.3.</span> <span class="nav-text">附带身份凭证的请求</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#HTTP-响应首部字段"><span class="nav-number">1.4.</span> <span class="nav-text">HTTP 响应首部字段</span></a><ol class="nav-child"><li class="nav-item nav-level-4"><a class="nav-link" href="#Access-Control-Allow-Origin"><span class="nav-number">1.4.1.</span> <span class="nav-text">Access-Control-Allow-Origin</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Access-Control-Expose-Headers"><span class="nav-number">1.4.2.</span> <span class="nav-text">Access-Control-Expose-Headers</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Access-Control-Max-Age"><span class="nav-number">1.4.3.</span> <span class="nav-text">Access-Control-Max-Age</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Access-Control-Allow-Credentials"><span class="nav-number">1.4.4.</span> <span class="nav-text">Access-Control-Allow-Credentials</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Access-Control-Allow-Methods"><span class="nav-number">1.4.5.</span> <span class="nav-text">Access-Control-Allow-Methods</span></a></li><li class="nav-item nav-level-4"><a class="nav-link" href="#Access-Control-Allow-Headers"><span class="nav-number">1.4.6.</span> <span class="nav-text">Access-Control-Allow-Headers</span></a></li></ol></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#CSP"><span class="nav-number">2.</span> <span class="nav-text">CSP</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#多内容安全策略"><span class="nav-number">2.1.</span> <span class="nav-text">多内容安全策略</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#示例"><span class="nav-number">2.2.</span> <span class="nav-text">示例</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#XSS"><span class="nav-number">3.</span> <span class="nav-text">XSS</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#技巧-解答"><span class="nav-number"></span> <span class="nav-text">技巧&#x2F;解答</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#call-apply-1"><span class="nav-number">1.</span> <span class="nav-text">call&#x2F;apply</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#bind-1"><span class="nav-number">1.1.</span> <span class="nav-text">bind</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#uncurrying"><span class="nav-number">1.2.</span> <span class="nav-text">uncurrying</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#高阶函数"><span class="nav-number">2.</span> <span class="nav-text">高阶函数</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#字符串"><span class="nav-number">3.</span> <span class="nav-text">字符串</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#StringBuffer"><span class="nav-number">3.1.</span> <span class="nav-text">StringBuffer</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解疑"><span class="nav-number">4.</span> <span class="nav-text">解疑</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#setTimeout、Promise、Async-Await-的区别"><span class="nav-number">4.1.</span> <span class="nav-text">setTimeout、Promise、Async&#x2F;Await 的区别</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#解答"><span class="nav-number">5.</span> <span class="nav-text">解答</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#将数组扁平化去并除其中重复部分数据"><span class="nav-number">5.1.</span> <span class="nav-text">将数组扁平化去并除其中重复部分数据</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#简单讲解一下http2的多路复用"><span class="nav-number">5.2.</span> <span class="nav-text">简单讲解一下http2的多路复用</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#对TCP三次握手和四次挥手的理解"><span class="nav-number">5.3.</span> <span class="nav-text">对TCP三次握手和四次挥手的理解</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#深度优先遍历和广度优先遍历"><span class="nav-number">5.4.</span> <span class="nav-text">深度优先遍历和广度优先遍历</span></a></li></ol></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#浏览器"><span class="nav-number"></span> <span class="nav-text">浏览器</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#AJAX"><span class="nav-number">1.</span> <span class="nav-text">AJAX</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#请求头"><span class="nav-number">1.1.</span> <span class="nav-text">请求头</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#请求类型比较"><span class="nav-number">1.2.</span> <span class="nav-text">请求类型比较</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#方法-事件"><span class="nav-number">1.3.</span> <span class="nav-text">方法&#x2F;事件</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#返回结果"><span class="nav-number">1.4.</span> <span class="nav-text">返回结果</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#例子"><span class="nav-number">1.5.</span> <span class="nav-text">例子</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#事件处理"><span class="nav-number">2.</span> <span class="nav-text">事件处理</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#元素操作"><span class="nav-number">3.</span> <span class="nav-text">元素操作</span></a></li><li class="nav-item nav-level-2"><a class="nav-link" href="#A、B-机器正常连接后，B-机器突然重启，问-A-此时处于-TCP-什么状态"><span class="nav-number">4.</span> <span class="nav-text">A、B 机器正常连接后，B 机器突然重启，问 A 此时处于 TCP 什么状态</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#Node"><span class="nav-number"></span> <span class="nav-text">Node</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#介绍下-npm-模块安装机制，为什么输入-npm-install-就可以自动安装对应的模块？"><span class="nav-number">1.</span> <span class="nav-text">介绍下 npm 模块安装机制，为什么输入 npm install 就可以自动安装对应的模块？</span></a></li></ol></li><li class="nav-item nav-level-1"><a class="nav-link" href="#React"><span class="nav-number"></span> <span class="nav-text">React</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#React-中-setState-什么时候是同步的，什么时候是异步的？"><span class="nav-number">1.</span> <span class="nav-text">React 中 setState 什么时候是同步的，什么时候是异步的？</span></a></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jinwen</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">51</span>
          <span class="site-state-item-name">日志</span>
        </a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">20</span>
        <span class="site-state-item-name">标签</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/jinven" title="GitHub → https:&#x2F;&#x2F;github.com&#x2F;jinven" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:fujinwen@yahoo.com" title="E-Mail → mailto:fujinwen@yahoo.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>
        <div class="back-to-top motion-element">
          <i class="fa fa-arrow-up"></i>
          <span>0%</span>
        </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jinwen</span>
</div>
<!--
    <link rel="stylesheet" href="https://imsun.github.io/gitment/style/default.css">
    <script src="https://imsun.github.io/gitment/dist/gitment.browser.js"></script>
-->
<link rel="stylesheet" href="/css/third/gitment.css">
<script src="/js/third/gitment.browser.js"></script>
<script src="/js/third/gitment.js"></script>

  <div class="powered-by">由 <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> 强力驱动 v4.2.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">主题 – <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.6.0
  </div>

        
<div class="busuanzi-count">
  <script async src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script>
    <span class="post-meta-item" id="busuanzi_container_site_uv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-user"></i>
      </span>
      <span class="site-uv" title="总访客量">
        总访客量
        <span id="busuanzi_value_site_uv"></span>
      </span>
    </span>
    <span class="post-meta-divider">|</span>
    <span class="post-meta-item" id="busuanzi_container_site_pv" style="display: none;">
      <span class="post-meta-item-icon">
        <i class="fa fa-eye"></i>
      </span>
      <span class="site-pv" title="总访问量">
        总访问量
        <span id="busuanzi_value_site_pv"></span>
      </span>
    </span>
</div>








        
      </div>
    </footer>
  </div>
  <!-- _scripts/index.swig -->
  
  
  <script color='0,0,255' opacity='0.5' zIndex='-1' count='99' src="//cdn.jsdelivr.net/gh/theme-next/theme-next-canvas-nest@latest/canvas-nest.min.js"></script>
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>

<script src="/js/bookmark.js"></script>




  <!-- _third-party/index.swig -->
  




  
<!-- 
    <link rel="stylesheet" href="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.css">
    <script src="//cdn.jsdelivr.net/npm/instantsearch.js@2/dist/instantsearch.min.js" async></script>
-->
<link rel="stylesheet" href="/css/third/instantsearch.min.css">
<script src="/js/third/instantsearch.min.js"></script>
<script src="/js/algolia-search.js"></script>














  <!-- theme.pjax -->

  <!-- _third-party/math/index.swig -->
  

  <!-- _third-party/quicklink.swig -->
  


  <!-- _third-party/bodyEnd.swig -->

  <!-- theme.pjax -->
  <!-- 
    <canvas width="1366" height="662" style="position: fixed; left: 0px; top: 0px; z-index: 2147483647; pointer-events: none;"></canvas>
  -->
  <script src="/js/cursor-effects.js"></script>
  <script>
    // javascript-小结
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "https://hm.baidu.com/hm.js?db1c134844bf26277860eaa90b796200";
      var s = document.getElementsByTagName("script")[0]; 
      s.parentNode.insertBefore(hm, s);
    })();
  </script>
</body>
</html>
